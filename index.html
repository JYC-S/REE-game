<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What Rare Earth Elements (REE) are you ?</title>
    <style>
        /* === VARIABLES CSS === */
        :root {
            --couleur-primaire: #01204e;
            --couleur-secondaire: #026a8d;
            --couleur-accent: #71aca2;
            --couleur-succes: #71aca2;
            --couleur-texte: #2d3436;
            --couleur-background: #f4dcac;
            --couleur-carte: #ffffff;
            --ombre-carte: 0 10px 30px rgba(102, 126, 234, 0.1);
            --border-radius: 15px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* === STYLES DE BASE === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--couleur-primaire), var(--couleur-secondaire));
            min-height: 100vh;
            color: var(--couleur-texte);
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* === PAGE D'ACCUEIL === */
        .hero {
            text-align: center;
            padding: 40px 0;
            color: white;
        }

        .titre-principal {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease-out;
        }

        .sous-titre {
            font-size: 1.2em;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .carte-accueil {
            background: var(--couleur-carte);
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: var(--ombre-carte);
            text-align: center;
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        .icone-quiz {
            font-size: 4em;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        .types-personnalite {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .type-preview {
            padding: 15px;
            border-radius: var(--border-radius);
            border: 2px solid transparent;
            transition: var(--transition);
            cursor: pointer;
        }

        .type-preview:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .type-preview.cerium { 
            background: #e2fdff;
            color: #333;
        }

        .type-preview.dysprosium { 
            background: #d4fff6;
            color: #333;
        }

        .type-preview.praseodyme { 
            background: #e8e8e5;
            color: #333;
        }

        .type-preview.lanthane { 
            background: #ffeee1;
            color: #333;
        }

        .type-preview.gadolinium { 
            background: #f7e3ff;
            color: #333;
        }

        .type-preview.neodyme { 
            background: #949f96;
            color: white;
        }

        .type-preview.tellure { 
            background: #e1ddc0;
            color: #333;
        }

        .emoji {
            font-size: 1.5em;
            display: block;
            margin-bottom: 5px;
        }

        .character-preview-img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 50%;
            display: block;
            margin: 0 auto 5px auto;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .type-preview:hover .character-preview-img {
            border-color: rgba(255, 255, 255, 0.8);
            transform: scale(1.05);
        }

        /* === BOUTONS === */
        .btn-commencer, .btn-suivant, .btn-precedent, .btn-resultat, .btn-recommencer, .btn-partager {
            background: linear-gradient(135deg, var(--couleur-accent), var(--couleur-primaire));
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(240, 147, 251, 0.4);
        }

        .btn-commencer:hover, .btn-suivant:hover, .btn-precedent:hover, .btn-resultat:hover,
        .btn-recommencer:hover, .btn-partager:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(240, 147, 251, 0.6);
        }

        .btn-precedent {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            margin-right: 15px;
        }

        /* === STYLE SPÉCIFIQUE POUR LE BOUTON COMMENCER === */
        .btn-commencer {
            background: linear-gradient(135deg, #3b82f6, #1e40af) !important;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4) !important;
        }

        .btn-commencer:hover {
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.6) !important;
        }

        /* === QUIZ === */
        .quiz-section {
            display: none;
        }

        .quiz-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            border-radius: 50px;
            height: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress {
            background: linear-gradient(90deg, var(--couleur-accent), #ffffff);
            height: 100%;
            border-radius: 50px;
            transition: var(--transition);
            width: 33.33%;
        }

        .progress-text {
            opacity: 0.9;
            font-size: 0.9em;
        }

        .question-card {
            background: var(--couleur-carte);
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: var(--ombre-carte);
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .question-card.active {
            display: block;
        }

        .question-titre {
            font-size: 1.5em;
            margin-bottom: 30px;
            text-align: center;
            color: var(--couleur-primaire);
        }

        .choix-container {
            margin-bottom: 30px;
        }

        .choix {
            margin-bottom: 15px;
        }

        .choix input[type="radio"] {
            display: none;
        }

        .choix label {
            display: block;
            padding: 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .choix label:hover {
            background: #e3f2fd;
            border-color: var(--couleur-primaire);
            transform: translateX(5px);
        }

        .choix input[type="radio"]:checked + label {
            background: linear-gradient(135deg, var(--couleur-primaire), var(--couleur-accent));
            color: white;
            border-color: var(--couleur-primaire);
            transform: scale(1.02);
        }

        .navigation-buttons {
            text-align: center;
            margin-top: 30px;
        }

        /* === IMAGES QUESTIONS === */
        .question-image {
            text-align: center;
            margin: 20px 0;
        }

        .question-image img {
            max-width: 60%;
            height: auto;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: var(--transition);
        }

        .question-image img:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        /* === RÉSULTAT === */
        .resultat-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease-out;
            overflow-y: auto;
            padding: 20px;
        }

        .carte-resultat {
            background: var(--couleur-carte);
            border-radius: var(--border-radius);
            padding: 40px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            margin: auto;
            text-align: center;
            animation: zoomIn 0.5s ease-out;
            overflow-y: auto;
            box-sizing: border-box;
        }

        .resultat-contenu h3 {
            font-size: 2em;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--couleur-primaire), var(--couleur-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .actions-resultat {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* === FOOTER === */
        footer {
            text-align: center;
            padding: 30px 0;
            color: rgba(255,255,255,0.8);
        }

        /* === ANIMATIONS === */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            .titre-principal {
                font-size: 2em;
            }
            
            .carte-accueil, .question-card, .carte-resultat {
                padding: 20px;
                margin: 10px;
            }
            
            .types-personnalite {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .actions-resultat {
                flex-direction: column;
            }
            
            .btn-commencer, .btn-suivant, .btn-precedent, .btn-resultat,
            .btn-recommencer, .btn-partager {
                padding: 12px 25px;
                font-size: 1em;
            }

            .language-selector {
                position: fixed !important;
                top: 10px !important;
                right: 10px !important;
            }
        }

        /* === LANGUAGE SELECTOR === */
        .lang-btn.active {
            background: white !important;
            color: var(--couleur-primaire) !important;
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.2) !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- LANGUAGE SELECTOR -->
        <div class="language-selector" style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
            <button onclick="switchLanguage('en')" id="btn-en" class="lang-btn active" style="margin-right: 10px; padding: 8px 15px; border: 2px solid white; background: transparent; color: white; border-radius: 20px; cursor: pointer; font-weight: bold; transition: all 0.3s;">EN</button>
            <button onclick="switchLanguage('fr')" id="btn-fr" class="lang-btn" style="padding: 8px 15px; border: 2px solid white; background: transparent; color: white; border-radius: 20px; cursor: pointer; font-weight: bold; transition: all 0.3s;">FR</button>
        </div>

        <!-- PAGE D'ACCUEIL -->
        <section id="accueil" class="accueil-section">
            <header class="hero">
                <h1 class="titre-principal" data-lang-en="✨ What Rare Earth Element (REE) are you? ✨" data-lang-fr="✨ Quel Élément de Terre Rare (REE) êtes-vous ? ✨">✨ What Rare Earth Element (REE) are you? ✨</h1>
                <p class="sous-titre" data-lang-en="Discover your Rare Earth Element personality by answering a few simple questions!" data-lang-fr="Découvrez quel élément de terre rare correspond à votre personnalité en répondant à quelques questions simples !">Discover your Rare Earth Element personality by answering a few simple questions!</p>
            </header>
            
            <div class="carte-accueil">
                <div class="icone-quiz"></div>
                <h2 data-lang-en="Ready to discover your inner element?" data-lang-fr="Prêt à découvrir votre élément intérieur ?">Ready to discover your inner element?</h2>
                <p data-lang-en="This REEally special quiz will help you find out which Rare Earth Element matches your personality among:" data-lang-fr="Ce quiz scientifique vous aidera à découvrir quel élément de terre rare correspond à votre personnalité parmi :">This REEally special quiz will help you find out which Rare Earth Element matches your personality among:</p>
                
                <div class="types-personnalite">
                    <div class="type-preview cerium">
                        <img src="Ce.jpg" alt="Cerium" class="character-preview-img">
                        <span>Cerium</span>
                    </div>
                    <div class="type-preview dysprosium">
                        <img src="Dy.jpg" alt="Dysprosium" class="character-preview-img">
                        <span>Dysprosium</span>
                    </div>
                    <div class="type-preview praseodyme">
                        <img src="Pr.jpg" alt="Praseodymium" class="character-preview-img">
                        <span>Praseodymium</span>
                    </div>
                    <div class="type-preview lanthane">
                        <img src="La.jpg" alt="Lanthanum" class="character-preview-img">
                        <span>Lanthanum</span>
                    </div>
                    <div class="type-preview gadolinium">
                        <img src="Ga.jpg" alt="Gadolinium" class="character-preview-img">
                        <span>Gadolinium</span>
                    </div>
                    <div class="type-preview neodyme">
                        <img src="Ne.jpg" alt="Neodymium" class="character-preview-img">
                        <span>Neodymium</span>
                    </div>
                    <div class="type-preview tellure">
                        <img src="Te.jpg" alt="Tellurium" class="character-preview-img">
                        <span>Tellurium</span>
                    </div>
                </div>
                
                <button class="btn-commencer" onclick="commencerQuiz()" data-lang-en="Start the quiz" data-lang-fr="Commencer le quiz">Start the quiz</button>
            </div>
            
            <footer>
                <p data-lang-en="💡 No right or wrong answers - just be yourself!" data-lang-fr="💡 Il n'y a ni bonnes ni mauvaises réponses - soyez simplement vous-même !">💡 No right or wrong answers - just be yourself!</p>
            </footer>
        </section>

        <!-- SECTION QUIZ -->
        <section id="quiz" class="quiz-section">
            <header class="quiz-header">
                <h1 data-lang-en="🧠 What Rare Earth Element (REE) are you ?" data-lang-fr="🧠 Quel Élément de Terre Rare (REE) êtes-vous ?">🧠 What Rare Earth Element (REE) are you ?</h1>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
            </header>

            <form id="quiz-form">
                <!-- Question 1 -->
                <div class="question-card active" data-question="1">
                    <h2 class="question-titre" data-translate="question1">Here you are, one Rare Earth Element (REE) out of many in electronical waste (e-waste). What a mess.... To escape from being killed because of your old age, you have to team up with your other REE friends. What is your first action?</h2>

                    <div class="question-image">
                        <img src="Q1 décharge.jpg" alt="Electronical waste (e-waste) with scattered electronic devices" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="q1c1" name="question1" value="CERIUM:1,PRASEODYME:1,NEODYME:1" required>
                            <label for="q1c1" data-translate="q1-option1">You like to stay on top of the situation, and you take the lead.</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="q1c2" name="question1" value="LANTHANE:1,TELLURE:1,GADOLINIUM:1" required>
                            <label for="q1c2" data-translate="q1-option2">You've never been good at talking in public but you keep your beautiful smile on</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="q1c3" name="question1" value="CERIUM:1,PRASEODYME:1" required>
                            <label for="q1c3" data-translate="q1-option3">You have something so smart to say that nobody understands and starts to sleep</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="q1c4" name="question1" value="DYSPROSIUM:1,LANTHANE:1" required>
                            <label for="q1c4" data-translate="q1-option4">You're just happy to be part of the team</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Next →
                        </button>
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question-card" data-question="2">
                    <h2 class="question-titre" data-translate="question2">You came up with a plan to escape from this electronical waste (e-waste). What is it ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="q2c1" name="question2" value="CERIUM:1,SPACESHIP_PATH" required>
                            <label for="q2c1" data-translate="q2-option1">While everybody was running around like headless chickens, you've managed to build a space ship and fly out</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="q2c2" name="question2" value="NEODYME:1,LANTHANE:1,DEATH_NO_SCARE_PATH" required>
                            <label for="q2c2" data-translate="q2-option2">Death doesn't scare you. You know your time hasn't come and just go with the flow</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="q2c3" name="question2" value="DYSPROSIUM:1,GADOLINIUM:1,PRASEODYME:1,APERO_PATH" required>
                            <label for="q2c3" data-translate="q2-option3">This is the end. No hope but still time to have fun and do one last apero</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="q2c4" name="question2" value="EXIT_ENDING" required>
                            <label for="q2c4" data-translate="q2-option4">You look to your right and see the exit sign</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Next →
                        </button>
                    </div>
                </div>

                <!-- SPACESHIP PATH QUESTIONS -->
                <!-- Spaceship Question 1 - Destination Choice -->
                <div class="question-card" data-question="spaceship-1">
                    <h2 class="question-titre" data-translate="spaceship-1-title">Wow, your knowledge was really effective as you already have your spaceship ready. Where do you want to go ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qs1c1" name="spaceship1" value="PRASEODYME:1,TELLURE:1,MOON_PATH" required>
                            <label for="qs1c1" data-translate="spaceship-1-option1">The moon, thinking you have a better catch phrase than "That's one small step for man, one giant leap for mankind."</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qs1c2" name="spaceship1" value="GADOLINIUM:1,NEODYME:1,EUROPA_PATH" required>
                            <label for="qs1c2" data-translate="spaceship-1-option2">Go to Jupiter's moon Europa as we think there is lifeform over there</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- MOON PATH -->
                <!-- Moon Landing -->
                <div class="question-card" data-question="spaceship-moon">
                    <h2 class="question-titre" data-translate="spaceship-moon-title">As you're putting on your astronaut suit to go walk on the moon, you're thinking of the catch phrase you're gonna say. What do you choose?</h2>
                    
                    <div class="question-image">
                        <img src="Q4 astronaute.png" alt="Astronaut putting on suit for moon landing" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qsm1" name="spaceship_moon" value="GADOLINIUM:1,PRASEODYME:1,LANTHANE:1,DYSPROSIUM:1" required>
                            <label for="qsm1" data-translate="spaceship-moon-option1">"Oooooooover the moon Baby!" - All for the camera!</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsm2" name="spaceship_moon" value="CERIUM:1, LANTHANE:1" required>
                            <label for="qsm2" data-translate="spaceship-moon-option2">You panic in front of the camera and just say "Look mum, I'm walking on the moon!" and start singing "Walking on the Moon" by The Police</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsm3" name="spaceship_moon" value="CERIUM:1,NEODYME:1,TELLURE:1" required>
                            <label for="qsm3" data-translate="spaceship-moon-option3">You prepare a scientifically accurate statement about lunar exploration</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsm4" name="spaceship_moon" value="LANTHANE:1," required>
                            <label for="qsm4" data-translate="spaceship-moon-option4">You forget about the catchphrase and just start doing moon bounces for fun</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- On the way back from the moon -->
                <div class="question-card" data-question="spaceship-return">
                    <h2 class="question-titre" data-translate="spaceship-return-title">On the way back to Earth, you've been hit by the tip of an asteroid. This doesn't look good... What is your reaction?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qsr1" name="spaceship_return" value="PRASEODYME:1" required>
                            <label for="qsr1" data-translate="spaceship-return-option1">Try to calm the crew even though you have no idea how you will survive</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsr2" name="spaceship_return" value="DYSPROSIUM:1,TELLURE:1" required>
                            <label for="qsr2" data-translate="spaceship-return-option2">Stay positive no matter what: "If you pay attention, all the spaceship beeping together make a great melody!"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsr3" name="spaceship_return" value="GADOLINIUM:1,LANTHANE:1" required>
                            <label for="qsr3" data-translate="spaceship-return-option3">F*** this, we are all gonna diiieeeee!!!!</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsr4" name="spaceship_return" value="CERIUM:1,NEODYME:1" required>
                            <label for="qsr4" data-translate="spaceship-return-option4">You don't handle stressful situations very well and simply faint</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- Landing on Earth -->
                <div class="question-card" data-question="spaceship-landing">
                    <h2 class="question-titre" data-translate="spaceship-landing-title">Miraculously you manage to land on Earth! You arrive as heroes that saved all REEkind by deviating the asteroid's trajectory. What is the first word you say when you land and talk to the first journalist?</h2>
                    
                    <div class="question-image">
                        <img src="Q6 earth.png" alt="Earth landing after space mission" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qsl1" name="spaceship_landing" value="LANTHANE:1,GADOLINIUM:1,DYSPROSIUM:1" required>
                            <label for="qsl1" data-translate="spaceship-landing-option1">"Man I'm hungry"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsl2" name="spaceship_landing" value="CERIUM:1,LANTHANE:1" required>
                            <label for="qsl2" data-translate="spaceship-landing-option2">"I think I need to change my pants"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsl3" name="spaceship_landing" value="GADOLINIUM:1,TELLURE:1" required>
                            <label for="qsl3" data-translate="spaceship-landing-option3">"It was craaaazy! I loved it!!"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsl4" name="spaceship_landing" value="NEODYME:1,PRASEODYME:1" required>
                            <label for="qsl4" data-translate="spaceship-landing-option4">"Yeaaaaah we saved your life, now where's my million !?!?!"</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- EUROPA PATH -->
                <!-- Europa Discovery -->
                <div class="question-card" data-question="spaceship-europa">
                    <h2 class="question-titre" data-translate="spaceship-europa-title">As a true biologist, you want to explore what’s beneath the frosted crust. Who knows what you’ll find! You bet with your co-worker on what you think you will find.</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qse1" name="spaceship_europa" value="LANTHANE:1,CERIUM:1" required>
                            <label for="qse1" data-translate="spaceship-europa-option1">Microbes that emit fluorescence at the sound of your voice</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qse2" name="spaceship_europa" value="DYSPROSIUM:1,TELLURE:1" required>
                            <label for="qse2" data-translate="spaceship-europa-option2">Many different plants with appearances ranging from shark-like to snail-like</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qse3" name="spaceship_europa" value="CERIUM:1,GADOLINIUM:1" required>
                            <label for="qse3" data-translate="spaceship-europa-option3">Jellyfishes with bee stripes that eat sunlight and wear swimming goggles</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qse4" name="spaceship_europa" value="NEODYME:1,PRASEODYME:1" required>
                            <label for="qse4" data-translate="spaceship-europa-option4">Nothing truly living but wait… you discover that everything you experience is part of the matrix</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- DEATH NO SCARE PATH QUESTIONS -->
                <div class="question-card" data-question="death-1">
                    <h2 class="question-titre" data-translate="death-1-title">Suddenly, a big magnet monster comes at you, he wants to bind with you. How do you react ?</h2>
                    
                    <div class="question-image">
                        <img src="Q3 magnet.png" alt="Big magnet monster approaching" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qd1c1" name="death1" value="GADOLINIUM:1,NEODYME:1,CERIUM:1,CRYING_OR_HUGS_PATH" required>
                            <label for="qd1c1" data-translate="death-1-option1">You see it coming closer and start crying thinking this might be your time after all</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qd1c2" name="death1" value="LANTHANE:1,TELLURE:1,PRASEODYME:1,COOKIE_PATH" required>
                            <label for="qd1c2" data-translate="death-1-option2">You don't care about it and focus on a big giant cookie in the middle of the trash that smells like your grandma's house. You go eat it.</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qd1c3" name="death1" value="DYSPROSIUM:1,LANTHANE:1,CRYING_OR_HUGS_PATH" required>
                            <label for="qd1c3" data-translate="death-1-option3">You love hugs so you welcome it with open arms. It's cuddle o'clock.</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- CRYING OR HUGS PATH QUESTION -->
                <div class="question-card" data-question="death-crying-hugs">
                    <h2 class="question-titre" data-translate="death-crying-hugs-title">You forgot that you have a -10 myopia and you sat on your glasses... This is no monster but just your reflection in a mirror. What is your reflection ?</h2>
                    
                    <div class="question-image">
                        <img src="Q4 mirror.png" alt="Looking at reflection in a mirror" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qch1" name="crying_hugs" value="CERIUM:1,NEODYME:1" required>
                            <label for="qch1" data-translate="death-crying-hugs-option1">I should eat more carrots... could be good for my eyes.</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qch2" name="crying_hugs" value="LANTHANE:1,DYSPROSIUM:1,PRASEODYME:1,TELLURE:1" required>
                            <label for="qch2" data-translate="death-crying-hugs-option2">Daamn, I'm getting oooooold !</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qch3" name="crying_hugs" value="GADOLINIUM:1,DYSPROSIUM:1,TELLURE:1" required>
                            <label for="qch3" data-translate="death-crying-hugs-option3">OMG, I have juicy lips ! Thank you mum's DNA</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qch4" name="crying_hugs" value="GADOLINIUM:1,NEODYME:1,CRY_MORE_PATH" required>
                            <label for="qch4" data-translate="death-crying-hugs-option4">You cry even more</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- CRY MORE PATH QUESTION -->
                <div class="question-card" data-question="death-cry-more">
                    <h2 class="question-titre" data-translate="death-cry-more-title">Time to really get out of this trash, you need to get out of here ! What transport do you take ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qcm1" name="cry_more" value="CERIUM:1,DYSPROSIUM:1,TELLURE:1" required>
                            <label for="qcm1" data-translate="death-cry-more-option1">Train</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcm2" name="cry_more" value="PRASEODYME:1,GADOLINIUM:1,TELLURE:1" required>
                            <label for="qcm2" data-translate="death-cry-more-option2">Limousine</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcm3" name="cry_more" value="LANTHANE:1,DYSPROSIUM:1" required>
                            <label for="qcm3" data-translate="death-cry-more-option3">Tandem</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcm4" name="cry_more" value="DYSPROSIUM:1,NEODYME:1,LANTHANE:1,TELLURE:1" required>
                            <label for="qcm4" data-translate="death-cry-more-option4">On a T-rex back</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcm5" name="cry_more" value="TELLURE:1,DYSPROSIUM:1,NEODYME:1,PRASEODYME:1,LANTHANE:1" required>
                            <label for="qcm5" data-translate="death-cry-more-option5">Teleportation shoes</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- MIRROR REFLECTION PATH QUESTION -->
                <div class="question-card" data-question="death-mirror">
                    <h2 class="question-titre" data-translate="death-mirror-title">You're so obsessed by your own reflection....</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qmr1" name="mirror_reflection" value="GADOLINIUM:1,CERIUM:1,ALL_ALONE_PATH" required>
                            <label for="qmr1" data-translate="death-mirror-option1">You didn't see everybody leaving</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qmr2" name="mirror_reflection" value="GADOLINIUM:1,PRASEODYME:1,TELLURE:1,BEAUTIFUL_PATH" required>
                            <label for="qmr2" data-translate="death-mirror-option2">You're too damn beautiful that all your REEs friends start looking at your reflection</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qmr3" name="mirror_reflection" value="LANTHANE:1,NEODYME:1,GADOLINIUM:1,DYSPROSIUM:1,SAY_YES_PATH" required>
                            <label for="qmr3" data-translate="death-mirror-option3">You propose to yourself and say YEESSS !!!</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- COOKIE PATH QUESTION (for the cookie option from death-1) -->
                <div class="question-card" data-question="death-cookie">
                    <h2 class="question-titre" data-translate="death-cookie-title">Too bad for you, you suddenly have a cramp... I guess it's time to say goodbye... What are your last words ?</h2>
                    
                    <div class="question-image">
                        <img src="Q4 cookie.png" alt="Cookie causing stomach cramp" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qck1" name="cookie_path" value="DYSPROSIUM:1" required>
                            <label for="qck1" data-translate="death-cookie-option1">"I have no regrets. This cookie was REElicious"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qck2" name="cookie_path" value="CERIUM:1:DYSPROSIUM:1,PRASEODYME:1,GADOLINIUM:1" required>
                            <label for="qck2" data-translate="death-cookie-option2">"Woman, I only had 1 life.... Goodbye recycling"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qck3" name="cookie_path" value="LANTHANE:1,GADOLINIUM:1,DYSPROSIUM:1" required>
                            <label for="qck3" data-translate="death-cookie-option3">"Man, why did I always skip sport at school"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qck4" name="cookie_path" value="TELLURE:1,NEODYME:1,DYSPROSIUM:1" required>
                            <label for="qck4" data-translate="death-cookie-option4">"F*ck I'm gonna die a virgin"</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- STILL HUNGRY QUESTION (after cookie) -->
                <div class="question-card" data-question="death-still-hungry">
                    <h2 class="question-titre" data-translate="death-still-hungry-title">Wait... you're still hungry! The cookie wasn't enough to satisfy your appetite. What do you do next?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qsh1" name="still_hungry" value="LANTHANE:1,DYSPROSIUM:1,NEODYME:1" required>
                            <label for="qsh1" data-translate="death-still-hungry-option1">Look for more cookies in the trash</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsh2" name="still_hungry" value="LANTHANE:1" required>
                            <label for="qsh2" data-translate="death-still-hungry-option2">Start eating anything that looks remotely edible</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsh3" name="still_hungry" value="CERIUM:1,PRASEODYME:1,GADOLINIUM:1" required>
                            <label for="qsh3" data-translate="death-still-hungry-option3">Try to find a proper kitchen to cook something</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsh4" name="still_hungry" value="TELLURE:1" required>
                            <label for="qsh4" data-translate="death-still-hungry-option4">Complain loudly that one cookie is never enough</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- COOKING CLASS QUESTION (final cookie path question) -->
                <div class="question-card" data-question="death-cooking-class">
                    <h2 class="question-titre" data-translate="death-cooking-class-title">Suddenly, a cooking show host appears out of nowhere! They want to teach you how to make the perfect cookie. What's your reaction?</h2>
                    
                    <div class="question-image">
                        <img src="Q6 kitchen.png" alt="Cooking show host in kitchen" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qcc1" name="cooking_class" value="CERIUM:1" required>
                            <label for="qcc1" data-translate="death-cooking-class-option1">"Finally! I've been waiting for this moment my whole life!"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcc2" name="cooking_class" value="DYSPROSIUM:1" required>
                            <label for="qcc2" data-translate="death-cooking-class-option2">"Sure, but can we make it extra chocolatey?"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcc3" name="cooking_class" value="GADOLINIUM:1,PRASEODYME:1,NEODYME:1" required>
                            <label for="qcc3" data-translate="death-cooking-class-option3">"I don't need help, I'm already a cookie master"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qcc4" name="cooking_class" value="LANTHANE:1,TELLURE:1" required>
                            <label for="qcc4" data-translate="death-cooking-class-option4">"Can we just skip to the eating part?"</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- ALL ALONE PATH QUESTION -->
                <div class="question-card" data-question="death-all-alone">
                    <h2 class="question-titre" data-translate="death-all-alone-title">You finally get to be alone with your crush: YOU ! As any normal person would do, you start singing : "All by myyyyyyself" from Cerium Dion. Your savior love this song and comes rescue you from this waste. But who is this REE ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qaa1" name="all_alone" value="GADOLINIUM:1,DYSPROSIUM:1" required>
                            <label for="qaa1" data-translate="death-all-alone-option1">pREEnce charming, he's got mad REEzz !</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qaa2" name="all_alone" value="NEODYME:1,LANTHANE:1,CERIUM:1,PRASEODYME:1" required>
                            <label for="qaa2" data-translate="death-all-alone-option2">It's a witch... She will rescue you but want your honey voice in return. Darn it !</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qaa3" name="all_alone" value="GADOLINIUM:1,TELLURE:1,GADOLINIUM:1" required>
                            <label for="qaa3" data-translate="death-all-alone-option3">Y'all heard of the famous Puss in Boots ? Meow, he's fluffy</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qaa4" name="all_alone" value="LANTHANE:1,NEODYME:1,PRASEODYME:1,CERIUM:1" required>
                            <label for="qaa4" data-translate="death-all-alone-option4">It's your mum.</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- BEAUTIFUL PATH QUESTION -->
                <div class="question-card" data-question="death-beautiful">
                    <h2 class="question-titre" data-translate="death-beautiful-title">Your beauty has bewitched everybody. You take this opportunity to regroup everybody and work on your final escape plan. What is this great speech ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qbp1" name="beautiful" value="PRASEODYME:1,TELLURE:1,NEODYME:1,GADOLINIUM:1" required>
                            <label for="qbp1" data-translate="death-beautiful-option1">"I have a dREEam..." (you know the rest)</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qbp2" name="beautiful" value="CERIUM:1,TELLURE:1,LANTHANE:1" required>
                            <label for="qbp2" data-translate="death-beautiful-option2">"As Grandma says: 'AI can code but can it make soup ?'"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qbp3" name="beautiful" value="PRASEODYME:1,DYSPROSIUM:1,NEODYME:1" required>
                            <label for="qbp3" data-translate="death-beautiful-option3">"Winter is coming, move your as* !"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qbp4" name="beautiful" value="NEODYME:1,TELLURE:1,CERIUM:1" required>
                            <label for="qbp4" data-translate="death-beautiful-option4">"Expecto Patronum" HarREE Pot-Te-r was right, it works !</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- SAY YES PATH QUESTION -->
                <div class="question-card" data-question="death-say-yes">
                    <h2 class="question-titre" data-translate="death-say-yes-title">Tellurium Swift heard your response and start singing one of his main hits "Love stoREE". Everybody start to sing, it's so beautiful. Your savior love this song and comes rescue you. But who is this REE ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qsy1" name="say_yes" value="GADOLINIUM:1,DYSPROSIUM:1" required>
                            <label for="qsy1" data-translate="death-say-yes-option1">pREEnce charming, he's got mad REEzz !</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsy2" name="say_yes" value="NEODYME:1,LANTHANE:1,CERIUM:1,PRASEODYME:1" required>
                            <label for="qsy2" data-translate="death-say-yes-option2">It's a witch... She will rescue you but want your honey voice in return. Darn it !</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsy3" name="say_yes" value="GADOLINIUM:1,TELLURE:1,GADOLINIUM:1" required>
                            <label for="qsy3" data-translate="death-say-yes-option3">Y'all heard of the famous Puss in Boots ? Meow, he's fluffy</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qsy4" name="say_yes" value="LANTHANE:1,NEODYME:1,PRASEODYME:1,CERIUM:1" required>
                            <label for="qsy4" data-translate="death-say-yes-option4">It's your mum.</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- APERO PATH QUESTIONS -->
                <div class="question-card" data-question="apero-1">
                    <h2 class="question-titre" data-translate="apero-1-title">As it is probably your last apero, it must be PERFECT. Everybody participates and goes around to find the best ingredients. What do you choose to take care of ?</h2>
                    
                    <div class="question-image">
                        <img src="Q3 apéro.png" alt="Perfect apero setup with friends" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qa1c1" name="apero1" value="CERIUM:1,GADOLINIUM:1" required>
                            <label for="qa1c1" data-translate="apero-1-option1">Vegetable sticks (with spices and all because you're fancy and healthy)</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qa1c2" name="apero1" value="LANTHANE:1" required>
                            <label for="qa1c2" data-translate="apero-1-option2">Cheese and crackers</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qa1c3" name="apero1" value="DYSPROSIUM:1" required>
                            <label for="qa1c3" data-translate="apero-1-option3">Hummus and other dips kind</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qa1c4" name="apero1" value="PRASEODYME:1" required>
                            <label for="qa1c4" data-translate="apero-1-option4">Beef sticks</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qa1c5" name="apero1" value="TELLURE:1,LANTHANE:1" required>
                            <label for="qa1c5" data-translate="apero-1-option5">You don't really cook but take care of the drinks ;)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- APERO MUSIC QUESTION -->
                <div class="question-card" data-question="apero-music">
                    <h2 class="question-titre" data-translate="apero-music-title">One mandatory thing is missing .... the music !!! What do you choose to play ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qam1" name="apero_music" value="GADOLINIUM:1,TELLURE:1" required>
                            <label for="qam1" data-translate="apero-music-option1">Tellurium Swift</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qam2" name="apero_music" value="LANTHANE:1,NEODYME:1" required>
                            <label for="qam2" data-translate="apero-music-option2">REEminem</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qam3" name="apero_music" value="GADOLINIUM:1,TELLURE:1" required>
                            <label for="qam3" data-translate="apero-music-option3">REEyoncé AKA Queen REE</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qam4" name="apero_music" value="PRASEODYME:1,CERIUM:1" required>
                            <label for="qam4" data-translate="apero-music-option4">The REElling stones</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- APERO GAME QUESTION -->
                <div class="question-card" data-question="apero-game">
                    <h2 class="question-titre" data-translate="apero-game-title">It looks like some are still a bit stressed from the whole trap for ever in the waste thing.... To light up the mood you propose to play a game. Which one ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qag1" name="apero_game" value="PRASEODYME:1,NEODYME:1" required>
                            <label for="qag1" data-translate="apero-game-option1">Cards game like a little poker to make things more interesting</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qag2" name="apero_game" value="CERIUM:1,TELLURE:1" required>
                            <label for="qag2" data-translate="apero-game-option2">A classic game of charades</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qag3" name="apero_game" value="CERIUM:1,DYSPROSIUM:1" required>
                            <label for="qag3" data-translate="apero-game-option3">Trivial Pursuit so that you can flex your general cultural knowledge</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qag4" name="apero_game" value="LANTHANE:1,GADOLINIUM:1" required>
                            <label for="qag4" data-translate="apero-game-option4">Truth or dare</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- POKER OR CHARADES OR TRIVIAL QUESTION -->
                <div class="question-card" data-question="apero-poker-charades">
                    <h2 class="question-titre" data-translate="apero-poker-charades-title">Someone gets too competitive and start yelling at you thinking that you're cheating. How do you react ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qpct1" name="poker_charades" value="PRASEODYME:1,DYSPROSIUM:1,CERIUM:1" required>
                            <label for="qpct1" data-translate="apero-poker-charades-option1">You did actually cheat but choose to play denial : "Me, cheating ? I would never dare to !"</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qpct2" name="poker_charades" value="LANTHANE:1" required>
                            <label for="qpct2" data-translate="apero-poker-charades-option2">You did cheat but don't like fighting so you admit everything and offer a big hug as a peace offering</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qpct3" name="poker_charades" value="GADOLINIUM:1,NEODYME:1,TELLURE:1,CERIUM:1" required>
                            <label for="qpct3" data-translate="apero-poker-charades-option3">You would never cheat, you're just too talented</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qpct4" name="poker_charades" value="GADOLINIUM:1" required>
                            <label for="qpct4" data-translate="apero-poker-charades-option4">You panic and start singing "under the sea" from the little mermaid</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- TRUTH OR DARE QUESTION -->
                <div class="question-card" data-question="apero-truth-dare">
                    <h2 class="question-titre" data-translate="apero-truth-dare-title">Someone dare you to walk on fire because this is what true leader does (the office ref)... Now are you a true leader ?</h2>
                    
                    <div class="question-image">
                        <img src="Q6 fire (truth or dare).png" alt="Walking on fire challenge from truth or dare" />
                    </div>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qtd1" name="truth_dare" value="PRASEODYME:1,NEODYME:1,GADOLINIUM:1,LANTHANE:1,YES_PATH" required>
                            <label for="qtd1" data-translate="apero-truth-dare-option1">Yes</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qtd2" name="truth_dare" value="CERIUM:1,DYSPROSIUM:1,TELLURE:1,NO_TRUTH_PATH" required>
                            <label for="qtd2" data-translate="apero-truth-dare-option2">No</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- YES - WALKED ON FIRE QUESTION -->
                <div class="question-card" data-question="apero-yes-fire">
                    <h2 class="question-titre" data-translate="apero-yes-fire-title">Daaaammm you're crazy ! How is your foot ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qyf1" name="yes_fire" value="DYSPROSIUM:1,LANTHANE:1,GADOLINIUM:1,TELLURE:1" required>
                            <label for="qyf1" data-translate="apero-yes-fire-option1">All good, you're super resistant to pain</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qyf2" name="yes_fire" value="CERIUM:1,NEODYME:1,PRASEODYME:1" required>
                            <label for="qyf2" data-translate="apero-yes-fire-option2">You're crying, begging for ice and calling for your mama... (Normal reaction, just walked on fire)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- NO - TRUTH QUESTION -->
                <div class="question-card" data-question="apero-no-truth">
                    <h2 class="question-titre" data-translate="apero-no-truth-title">You're not that crazy so you move to truth instead. What is your strongest fear ?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qnt1" name="no_truth" value="LANTHANE:1,TELLURE:1" required>
                            <label for="qnt1" data-translate="apero-no-truth-option1">Fear of snakes</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qnt2" name="no_truth" value="DYSPROSIUM:1,LANTHANE:1" required>
                            <label for="qnt2" data-translate="apero-no-truth-option2">Fear of foot</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qnt3" name="no_truth" value="CERIUM:1,GADOLINIUM:1,NEODYME:1" required>
                            <label for="qnt3" data-translate="apero-no-truth-option3">Fear of chemistry</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qnt4" name="no_truth" value="DYSPROSIUM:1,PRASEODYME:1,GADOLINIUM:1,NEODYME:1" required>
                            <label for="qnt4" data-translate="apero-no-truth-option4">Fear of missing out (FOMO)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- TELLURIUM SWIFT QUESTION (after yes-fire or no-truth) -->
                <div class="question-card" data-question="apero-tellurium-swift">
                    <h2 class="question-titre" data-translate="apero-tellurium-swift-title">After this chaotic scene, the team's mood drop and allows you to hear a music across the electronical waste (e-waste). As you are approaching it, you realize that it's a concert from no-one else but the star Tellurium Swift !!!</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qts1" name="tellurium_swift" value="GADOLINIUM:1" required>
                            <label for="qts1" data-translate="apero-tellurium-swift-option1">You go full crazy fan mode and try to pass security to hug your idole</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qts2" name="tellurium_swift" value="DYSPROSIUM:1,TELLURE:1,PRASEODYME:1" required>
                            <label for="qts2" data-translate="apero-tellurium-swift-option2">You let out your goofiness and start dancing like no-one is looking at you</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qts3" name="tellurium_swift" value="CERIUM:1" required>
                            <label for="qts3" data-translate="apero-tellurium-swift-option3">You're an introvert so just moving your legs a bit is quite an effort</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qts4" name="tellurium_swift" value="LANTHANE:1,NEODYME:1" required>
                            <label for="qts4" data-translate="apero-tellurium-swift-option4">You're not a fan and put your earpods on to listen to REEminem.</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- GETTING OUT ON MONGOLFIÈRE QUESTION (plasmid riddle) -->
                <div class="question-card" data-question="apero-mongolfiere">
                    <h2 class="question-titre" data-translate="apero-mongolfiere-title">At the end of the concert, Tellurium Swift offers you and your teams to escape on its hot-air balloon but you must first answer a riddle.<br><br>"I\'m small and circular, apart from the main thread,<br>Carry resistance and secrets microbes command.<br>I don\'t code for life, yet life makes me its tool—<br>Horizontal transfer? I fit that bill."<br><br><strong>What am I?</strong>',
</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qm1" name="mongolfiere" value="CERIUM:1,LANTHANE:1,DNA_WRONG" required>
                            <label for="qm1" data-translate="apero-mongolfiere-option1">DNA</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qm2" name="mongolfiere" value="GADOLINIUM:1,DYSPROSIUM:1,WEDDING_WRONG" required>
                            <label for="qm2" data-translate="apero-mongolfiere-option2">A wedding ring</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qm3" name="mongolfiere" value="CERIUM:1,TELLURE:1,PRASEODYME:1,PLASMID_CORRECT" required>
                            <label for="qm3" data-translate="apero-mongolfiere-option3">A plasmid</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qm4" name="mongolfiere" value="NEODYME:1,DYSPROSIUM:1,EUROPA_WRONG" required>
                            <label for="qm4" data-translate="apero-mongolfiere-option4">Europa (Jupiter's moon)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- DNA WRONG ANSWER -->
                <div class="question-card" data-question="apero-dna-wrong">
                    <h2 class="question-titre">Wrong DNA code for life, Duh<br><br>Try again :<br>"I'm small and circular, outside the main thread,<br>Carry resistance and tricks that microbes can spread.<br>I don't code for life, but life uses me still—<br>Horizontal transfer? I fit that bill."<br><br><strong>What am I?</strong></h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qdn1" name="dna_wrong" value="CERIUM:1,LANTHANE:1,DNA_WRONG" required>
                            <label for="qdn1">DNA</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qdn2" name="dna_wrong" value="GADOLINIUM:1,DYSPROSIUM:1,WEDDING_WRONG" required>
                            <label for="qdn2">A wedding ring</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qdn3" name="dna_wrong" value="CERIUM:1,TELLURE:1,PRASEODYME:1,PLASMID_CORRECT" required>
                            <label for="qdn3">A plasmid</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qdn4" name="dna_wrong" value="NEODYME:1,DYSPROSIUM:1,EUROPA_WRONG" required>
                            <label for="qdn4">Europa (Jupiter's moon)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- WEDDING RING WRONG ANSWER -->
                <div class="question-card" data-question="apero-wedding-wrong">
                    <h2 class="question-titre">Could have been right...<br>Is indeed small and circular,<br>Carry resistance against people that would like to approach you in a bar,<br>Horizontal transfer during the ring exchange....<br>But please, remember that this is a biology project<br><br>Try again :<br>"I'm small and circular, outside the main thread,<br>Carry resistance and tricks that microbes can spread.<br>I don't code for life, but life uses me still—<br>Horizontal transfer? I fit that bill."<br><br><strong>What am I?</strong></h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qwr1" name="wedding_wrong" value="CERIUM:1,LANTHANE:1,DNA_WRONG" required>
                            <label for="qwr1">DNA</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qwr2" name="wedding_wrong" value="GADOLINIUM:1,DYSPROSIUM:1,WEDDING_WRONG" required>
                            <label for="qwr2">A wedding ring</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qwr3" name="wedding_wrong" value="CERIUM:1,TELLURE:1,PRASEODYME:1,PLASMID_CORRECT" required>
                            <label for="qwr3">A plasmid</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qwr4" name="wedding_wrong" value="NEODYME:1,DYSPROSIUM:1,EUROPA_WRONG" required>
                            <label for="qwr4">Europa (Jupiter's moon)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- EUROPA WRONG ANSWER -->
                <div class="question-card" data-question="apero-europa-wrong">
                    <h2 class="question-titre">Could have been right as well...<br>Indeed, it is small and circular compare to the giant Jupiter,<br>We do believe that some sort of microbes can spread and uses this moon to live on...<br>But still wrong answer.<br><br>Try again:<br>"I'm small and circular, outside the main thread,<br>Carry resistance and tricks that microbes can spread.<br>I don't code for life, but life uses me still—<br>Horizontal transfer? I fit that bill."<br><br><strong>What am I?</strong></h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qer1" name="europa_wrong" value="CERIUM:1,LANTHANE:1,DNA_WRONG" required>
                            <label for="qer1">DNA</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qer2" name="europa_wrong" value="GADOLINIUM:1,DYSPROSIUM:1,WEDDING_WRONG" required>
                            <label for="qer2">A wedding ring</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qer3" name="europa_wrong" value="CERIUM:1,TELLURE:1,PRASEODYME:1,PLASMID_CORRECT" required>
                            <label for="qer3">A plasmid</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qer4" name="europa_wrong" value="NEODYME:1,DYSPROSIUM:1,EUROPA_WRONG" required>
                            <label for="qer4">Europa (Jupiter's moon)</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- PLASMID CORRECT ANSWER -->
                <div class="question-card" data-question="apero-plasmid-correct">
                    <h2 class="question-titre" data-translate="apero-plasmid-correct-title">Yaaaay, right answer ! You did listen in your biology class !<br>You can now escape and enjoy the view :)</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qpc1" name="plasmid_correct" value="LANTHANE:1,TELLURE:1" required>
                            <label for="qpc1" data-translate="apero-plasmid-correct-option1">Enjoy the beautiful view from the hot-air balloon</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qpc2" name="plasmid_correct" value="GADOLINIUM:1,PRASEODYME:1" required>
                            <label for="qpc2" data-translate="apero-plasmid-correct-option2">Take selfies with Tellurium Swift</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qpc3" name="plasmid_correct" value="CERIUM:1" required>
                            <label for="qpc3" data-translate="apero-plasmid-correct-option3">Ask Tellurium Swift about the science behind plasmids</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qpc4" name="plasmid_correct" value="DYSPROSIUM:1,NEODYME:1" required>
                            <label for="qpc4" data-translate="apero-plasmid-correct-option4">Plan your next adventure once you land</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-suivant" onclick="questionSuivante()">
                            Continue →
                        </button>
                    </div>
                </div>

                <!-- FINAL SHARED CARD -->
                <div class="question-card" data-question="final-card">
                    <h2 class="question-titre" data-translate="final-card-title">As your adventure comes to an end, what lessons did you learn?</h2>
                    
                    <div class="choix-container">
                        <div class="choix">
                            <input type="radio" id="qfc1" name="final_card" value="PRASEODYME:1,NEODYME:1,CERIUM:1" required>
                            <label for="qfc1" data-translate="final-card-option1">Your mom was right, you always run when danger comes </label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qfc2" name="final_card" value="DYSPROSIUM:1,LANTHANE:1" required>
                            <label for="qfc2" data-translate="final-card-option2">You love apero so much... Even more than your own life</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qfc3" name="final_card" value="TELLURE:1" required>
                            <label for="qfc3" data-translate="final-card-option3">Granny's cookie is the best in the world</label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qfc4" name="final_card" value="LANTHANE:1,NEODYME:1" required>
                            <label for="qfc4" data-translate="final-card-option4">Learn whaaat? I forgot to take notes." </label>
                        </div>
                        <div class="choix">
                            <input type="radio" id="qfc5" name="final_card" value="DYSPROSIUM:1,GADOLINIUM:1" required>
                            <label for="qfc5" data-translate="final-card-option5">You realised that you are indeed spaceship sick</label>
                        </div>
                    </div>
                    
                    <div class="navigation-buttons">
                        <button type="button" class="btn-precedent" onclick="questionPrecedente()">
                            ← Back
                        </button>
                        <button type="button" class="btn-resultat" onclick="submitQuiz()">
                            Discover my result ! 🎉
                        </button>
                    </div>
                </div>
            </form>
        </section>

        <!-- REEVOLUTIONATE PROJECT MESSAGE -->
        <div id="reevolutionate-message" class="resultat-container">
            <div class="carte-resultat">
                <h2 data-translate="results-title">🎉 You've escaped ! 🎉</h2>
                <div class="resultat-contenu">
                    <h3 data-translate="congrats" style="color: #71aca2; margin-bottom: 20px;">CONGRATS ! you did it! You're not trash anymore... what a REElief!</h3>
                    <p data-translate="reevolutionate-text" style="text-align: left; line-height: 1.6;">
                        You've been officially <strong>REEcycled</strong>, thanks to your saviors: the brilliant students of Lausanne behind the <strong>REEvolutionaTe</strong> project.<br><br>
                        They used bacteria to do all the dirty work so you could live on forever.<br>
                        Curious how they pulled that off? Go take a peek behind the scenes: <a href="https://2025.igem.wiki/unilausanne/" target="_blank"><strong>Wiki</strong></a><br><br>
                        You're welcome ;)
                    </p>
                    <div class="actions-resultat">
                        <button onclick="showREEResult(getCharacterResult())" class="btn-partager" data-translate="see-ree">Click here to see which REE you are</button>
                        <button onclick="recommencer()" class="btn-recommencer" data-translate="restart">Restart the quiz</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- RÉSULTAT -->
        <div id="resultat" class="resultat-container">
            <div class="carte-resultat">
                <h2>🎉 You escaped! 🎉</h2>
                <div class="resultat-contenu">
                    <h3 style="color: #71aca2; margin-bottom: 20px;">CONGRATS ! you did it! You're not trash anymore... what a REElief!</h3>
                    <p style="text-align: left; line-height: 1.4;">
                        You've been officially REEcycled, thanks to your saviors: the brilliant students of Lausanne behind the <strong>REEvolutionaTe</strong> project.<br><br>
                        They used bacteria to do all the dirty work so you could live on forever.<br>
                        Curious how they pulled that off? Go take a peek behind the scenes: <a href="https://2025.igem.wiki/unilausanne/" target="_blank"><strong>Wiki</strong></a><br><br>
                        You're welcome ;)
                    </p>
                    <h3 id="resultat-titre" style="margin-top: 25px;"></h3>
                    <p id="resultat-description"></p>
                    <div class="actions-resultat">
                        <button onclick="recommencer()" class="btn-recommencer">Redo the quiz</button>
                        <button onclick="partager()" class="btn-partager">Share my result</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAKE EXIT QUESTION -->
        <div id="exit-ending" class="question-card" style="display: none;">
            <h2 class="question-titre" data-translate="exit-title">Did you really think that it was that easy?</h2>
            
            <div class="question-image" style="text-align: center; margin-bottom: 20px;">
                <img src="Q2 Exit.png" alt="Exit scene" style="max-width: 60%; height: auto; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
            </div>
            
            <h3 data-translate="exit-try-again" style="text-align: center; margin: 20px 0; color: var(--couleur-principale);">Try again!</h3>
            
            <p class="question-description" data-translate="question2">You came up with a plan to escape from this electronical waste (e-waste). What is it ?</p>
            
            <div class="choix-container">
                <div class="choix">
                    <input type="radio" id="exit-q2c1" name="exit-question2" value="CERIUM:1,SPACESHIP_PATH" required>
                    <label for="exit-q2c1">While everybody was running around like headless chickens, you've managed to build a space ship and fly out</label>
                </div>
                <div class="choix">
                    <input type="radio" id="exit-q2c2" name="exit-question2" value="NEODYME:1,LANTHANE:1,DEATH_NO_SCARE_PATH" required>
                    <label for="exit-q2c2">Death doesn't scare you. You know your time hasn't come and just go with the flow</label>
                </div>
                <div class="choix">
                    <input type="radio" id="exit-q2c3" name="exit-question2" value="DYSPROSIUM:1,GADOLINIUM:1,PRASEODYME:1,APERO_PATH" required>
                    <label for="exit-q2c3">This is the end. No hope but still time to have fun and do one last apero</label>
                </div>
            </div>
            
            <div class="navigation-buttons">
                <button type="button" class="btn-suivant" onclick="continueFromExit()" data-translate="continue">
                    Continue →
                </button>
            </div>
        </div>
    </div>

        <!-- Character Image for REE result -->
        <div id="pdf-container" class="resultat-container" style="display:none;">
            <div class="carte-resultat">
                <h2>🎉 Your REE Character! 🎉</h2>
                <div class="resultat-contenu" style="text-align: center;">
                    <img id="character-image" src="" alt="Your REE Character" style="max-width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin-bottom: 20px;">
                    
                    <!-- Project description text -->
                    <div style="text-align: left; margin: 30px 0; padding: 20px; background-color: var(--couleur-background-light); border-radius: 10px; border-left: 4px solid var(--couleur-principale);">
                        <p data-translate="project-description" style="margin: 0; line-height: 1.6; color: var(--couleur-texte); text-align: justify;">
                            We are 13 students from UNIL, united by an iGEM project: an international competition in synthetic biology. This summer, we'll be working together on the project we've chosen, with a clear goal in mind: to make real progress and give it our all!<br><br>Our project, REEvolutionaTe, is all about creating a sustainable way to recover rare earth elements (REE) and tellurium (Te). To do this, we're using genetically engineered bacteria that can capture and recycle these valuable materials.<br><br>Rare earth elements and tellurium are crucial for industries like electronics, renewable energy, and metallurgy—especially when it comes to recycling from electronic waste. The problem is, traditional mining methods are very polluting, rely on large amounts of harmful chemicals, and lead to major biodiversity loss. And with global demand growing—especially for praseodymium, neodymium, and dysprosium—finding greener alternatives is more urgent than ever.<br><br>That's why we're focusing on six rare earth elements (lanthanum, cerium, neodymium, dysprosium, gadolinium, praseodymium) plus tellurium. Our aim is to design bacteria that can efficiently extract and recycle them from electronic waste (e-waste).<br><br>At the heart of all this is synthetic biology. It gives us the tools to reprogram microorganisms and turn them into tiny, powerful allies for tackling big environmental challenges in innovative and sustainable ways.<br><br>See more: <a href="https://2025.igem.wiki/unilausanne/" target="_blank">REEvolutionaTe</a>
                        </p>
                    </div>
                    
                    <br>
                    <button onclick="recommencer()" class="btn-recommencer">Restart the quiz</button>
                </div>
            </div>
        </div>    <script>
        // Variables globales
        let questionActuelle = 1;
        const totalQuestions = 5;
        let currentPath = ''; // Track which path the user is on
        let currentLanguage = 'en'; // Default language is English

        // Complete translation object
        const translations = {
            en: {
                // Home page
                'title': '✨ What Rare Earth Element (REE) are you? ✨',
                'subtitle': 'Discover your Rare Earth Element personality by answering a few simple questions!',
                'ready': 'Ready to discover your inner element?',
                'quiz-description': 'This REEally special quiz will help you find out which Rare Earth Element matches your personality among:',
                'start-quiz': 'Start the quiz',
                'no-wrong-answers': '💡 No right or wrong answers - just be yourself!',
                
                // Quiz header
                'quiz-title': 'What Rare Earth Element (REE) are you ?',
                
                // Navigation buttons
                'back': '← Back',
                'continue': 'Continue →',
                'next': 'Next →',
                'restart': 'Restart',
                'see-ree': 'Click here to see your REE',
                'restart-adventure': 'Restart Adventure',
                'discover': 'Discover',
                
                // Questions
                'question1': 'Here you are, one Rare Earth Element (REE) out of many in electronical waste (e-waste). What a mess.... To escape from being killed because of your old age, you have to team up with your other REE friends. What is your first action?',
                'q1-option1': 'You like to stay on top of the situation, and you take the lead.',
                'q1-option2': 'You\'ve never been good at talking in public but you keep your beautiful smile on',
                'q1-option3': 'You have something so smart to say that nobody understands and starts to sleep',
                'q1-option4': 'You\'re just happy to be part of the team',
                
                'question2': 'You came up with a plan to escape from this electronical waste (e-waste). What is it ?',
                'q2-option1': 'While everybody was running around like headless chickens, you\'ve managed to build a space ship and fly out',
                'q2-option2': 'Death doesn\'t scare you. You know your time hasn\'t come and just go with the flow',
                'q2-option3': 'This is the end. No hope but still time to have fun and do one last apero',
                'q2-option4': 'You look to your right and see the exit sign',
                
                // Results
                'results-title': '🎉 You\'ve escaped ! 🎉',
                'congrats': 'CONGRATS ! you did it! You\'re not trash anymore... what a REElief!',
                'reevolutionate-text': 'You\'ve been officially <strong>REEcycled</strong>, thanks to your saviors: the brilliant students of Lausanne behind the <strong>REEvolutionaTe</strong> project.<br><br>They used bacteria to do all the dirty work so you could live on forever.<br>Curious how they pulled that off? Go take a peek behind the scenes: <a href="https://2025.igem.wiki/unilausanne/" target="_blank"><strong>Wiki</strong></a><br><br>You\'re welcome ;)',
                'see-ree': 'Click here to see which REE you are',
                'restart': 'Restart the quiz',
                'share': 'Share my result',
                'discover': 'Discover my result ! 🎉',
                'restart-adventure': 'Restart the adventure',
                // Final card answers
                'final-card-q1': 'Your mom was right, you always run away when danger arrives',
                'final-card-q2': 'You love apero so much... Even more than your own life',
                'final-card-q3': 'Grandma\'s cookies are the best in the world',
                'final-card-q4': 'Learn what? I forgot to take notes.',
                'final-card-q5': 'You realized that you really have space sickness',

                // Exit question
                'exit-title': ' Did you really think that it was that easy? ',
                'exit-continue': 'Continue',
                
                // Apero path questions
                'apero-1-title': 'As it is probably your last apero, it must be PERFECT. Everybody participates and goes around to find the best ingredients. What do you choose to take care of?',
                'apero-1-option1': 'Vegetable sticks (with spices and all because you\'re fancy and healthy)',
                'apero-1-option2': 'Cheese and crackers',
                'apero-1-option3': 'Hummus and other dips kind',
                'apero-1-option4': 'Beef sticks',
                'apero-1-option5': 'You don\'t really cook but take care of the drinks ;)',
                
                'apero-music-title': 'One mandatory thing is missing... the music!!! What do you choose to play?',
                'apero-music-option1': 'Tellurium Swift',
                'apero-music-option2': 'REEminem',
                'apero-music-option3': 'REEyoncé AKA Queen REE',
                'apero-music-option4': 'The REElling stones',
                
                'apero-game-title': 'It looks like some are still a bit stressed from the whole trap forever in the waste thing.... To light up the mood you propose to play a game. Which one?',
                'apero-game-option1': 'Cards game like a little poker to make things more interesting',
                'apero-game-option2': 'A classic game of charades',
                'apero-game-option3': 'Trivial Pursuit so that you can flex your general cultural knowledge',
                'apero-game-option4': 'Truth or dare',
                
                'apero-poker-charades-title': 'Someone gets too competitive and start yelling at you thinking that you\'re cheating. How do you react?',
                'apero-poker-charades-option1': 'You did actually cheat but choose to play denial : "Me, cheating? I would never dare to!"',
                'apero-poker-charades-option2': 'You did cheat but don\'t like fighting so you admit everything and offer a big hug as a peace offering',
                'apero-poker-charades-option3': 'You would never cheat, you\'re just too talented',
                'apero-poker-charades-option4': 'You panic and start singing "under the sea" from the little mermaid',
                
                'apero-truth-dare-title': 'Someone dare you to walk on fire because this is what true leader does (the office ref)... Now are you a true leader?',
                'apero-truth-dare-option1': 'Yes',
                'apero-truth-dare-option2': 'No',
                
                'apero-yes-fire-title': 'Daaaammm you\'re crazy! How is your foot?',
                'apero-yes-fire-option1': 'All good, you\'re super resistant to pain',
                'apero-yes-fire-option2': 'You\'re crying, begging for ice and calling for your mama... (Normal reaction, just walked on fire)',
                
                'apero-no-truth-title': 'You\'re not that crazy so you move to truth instead. What is your strongest fear?',
                'apero-no-truth-option1': 'Fear of snakes',
                'apero-no-truth-option2': 'Fear of foot',
                'apero-no-truth-option3': 'Fear of chemistry',
                'apero-no-truth-option4': 'Fear of missing out (FOMO)',
                
                'apero-tellurium-swift-title': 'After this chaotic scene, the team\'s mood drop and allows you to hear a music across the electronical waste (e-waste). As you are approaching it, you realize that it\'s a concert from no-one else but the star Tellurium Swift!!!',
                'apero-tellurium-swift-option1': 'You go full crazy fan mode and try to pass security to hug your idol',
                'apero-tellurium-swift-option2': 'You let out your goofiness and start dancing like no-one is looking at you',
                'apero-tellurium-swift-option3': 'You\'re an introvert so just moving your legs a bit is quite an effort',
                'apero-tellurium-swift-option4': 'You\'re not a fan and put your earpods on to listen to REEminem.',
                
                'apero-mongolfiere-title': 'At the end of the concert, Tellurium Swift offers you and your teams to escape on its hot-air balloon but you must first answer a riddle.<br><br>"I\'m small and circular, apart from the main thread,<br>Carry resistance and secrets microbes command.<br>I don\'t code for life, yet life makes me its tool—<br>Horizontal transfer? I fit that bill."<br><br><strong>What am I?</strong>',
                'apero-mongolfiere-option1': 'DNA',
                'apero-mongolfiere-option2': 'A wedding ring',
                'apero-mongolfiere-option3': 'A plasmid',
                'apero-mongolfiere-option4': 'Europa (Jupiter\'s moon)',
                
                'apero-plasmid-correct-title': 'Yaaaay, right answer ! You did listen in your biology class !<br>You can now escape and enjoy the view :)',
                'apero-plasmid-correct-option1': 'Enjoy the beautiful view from the hot-air balloon',
                'apero-plasmid-correct-option2': 'Take selfies with Tellurium Swift',
                'apero-plasmid-correct-option3': 'Ask Tellurium Swift about the science behind plasmids',
                'apero-plasmid-correct-option4': 'Plan your next adventure once you land',
                
                'final-card-title': 'As your adventure comes to an end, what lessons did you learn?',
                'final-card-option1': 'Your mom was right, you always run when danger comes',
                'final-card-option2': 'You love apero so much... Even more than your own life',
                'final-card-option3': 'Granny\'s cookie is the best in the world',
                'final-card-option4': 'Learn whaaat? I forgot to take notes.',
                'final-card-option5': 'You realised that you are indeed spaceship sick',
                
                // Death path questions
                'death-1-title': 'Suddenly, a big magnet monster comes at you, he wants to bind with you. How do you react ?',
                'death-1-option1': 'You see it coming closer and start crying thinking this might be your time after all',
                'death-1-option2': 'You don\'t care about it and focus on a big giant cookie in the middle of the trash that smells like your grandma\'s house. You go eat it.',
                'death-1-option3': 'You love hugs so you welcome it with open arms. It\'s cuddle o\'clock.',
                
                // Spaceship path questions
                'spaceship-1-title': 'Wow, your knowledge was really effective as you already have your spaceship ready. Where do you want to go?',
                'spaceship-1-option1': 'The moon, thinking you have a better catch phrase than "That\'s one small step for man, one giant leap for mankind."',
                'spaceship-1-option2': 'Go to Jupiter\'s moon Europa as we think there is lifeform over there',
                
                'spaceship-moon-title': 'As you\'re putting on your astronaut suit to go walk on the moon, you\'re thinking of the catch phrase you\'re gonna say. What do you choose?',
                'spaceship-moon-option1': '"Oooooooover the moon Baby!" - All for the camera!',
                'spaceship-moon-option2': 'You panic in front of the camera and just say "Look mum, I\'m walking on the moon!" and start singing "Walking on the Moon" by The Police',
                'spaceship-moon-option3': 'You prepare a scientifically accurate statement about lunar exploration',
                'spaceship-moon-option4': 'You forget about the catchphrase and just start doing moon bounces for fun',
                
                'death-crying-hugs-title': 'You forgot that you have a -10 myopia and you sat on your glasses... This is no monster but just your reflection in a mirror. What is your reflection?',
                'death-crying-hugs-option1': 'I should eat more carrots... could be good for my eyes.',
                'death-crying-hugs-option2': 'Daaam,, I\'m getting oooooold!',
                'death-crying-hugs-option3': 'OMG, I have juicy lips! Thank you mum\'s DNA',
                'death-crying-hugs-option4': 'You cry even more',
               
              // Question CRY_MORE_PATH
                'death-cry-more-title': 'Time to really get out of this trash, you need to get out of here ! What transport do you take ?',
                'death-cry-more-option1': 'Train',
                'death-cry-more-option2': 'Limousine',
                'death-cry-more-option3': 'Tandem',
                'death-cry-more-option4': 'On a T-rex back',
                'death-cry-more-option5': 'Teleportation shoes',
                
                // Question MIRROR REFLECTION PATH
                'death-mirror-title': 'You\'re so obsessed by your own reflection...',
                'death-mirror-option1': 'You didn\'t see everybody leaving',
                'death-mirror-option2': 'You\'re too damn beautiful that all your REEs friends start looking at your reflection',
                'death-mirror-option3': 'You propose to yourself and say YEESSS !!!',
                
                // Question ALL ALONE PATH
                'death-all-alone-title': 'You finally get to be alone with your crush: YOU ! As any normal person would do, you start singing : "All by myyyyyyself" from Cerium Dion. Your savior love this song and comes rescue you from this waste. But who is this REE ?',
                'death-all-alone-option1': 'pREEnce charming, he\'s got mad REEzz !',
                'death-all-alone-option2': 'It\'s a witch... She will rescue you but want your honey voice in return. Darn it !',
                'death-all-alone-option3': 'Y\'all heard of the famous Puss in Boots ? Meow, he\'s fluffy',
                'death-all-alone-option4': 'It\'s your mum',
                
                // Question BEAUTIFUL PATH
                'death-beautiful-title': 'Your beauty has bewitched everybody. You take this opportunity to regroup everybody and work on your final escape plan. What is this great speech ?',
                'death-beautiful-option1': '"I have a dREEam..." (you know the rest)',
                'death-beautiful-option2': 'As Grandma says: \'AI can code but can it make soup ?\'',
                'death-beautiful-option3': '"Winter is coming, move your as* !"',
                'death-beautiful-option4': '"Expecto Patronum" HarREE Pot-Te-r was right, it works !',
                
                // Question SAY YES PATH
                'death-say-yes-title': 'Tellurium Swift heard your response and start singing one of his main hits "Love stoREE". Everybody start to sing, it\'s so beautiful. Your savior love this song and comes rescue you. But who is this REE ?',
                'death-say-yes-option1':'pREEnce charming, he\'s got mad REEzz !',
                'death-say-yes-option2': 'It\'s a witch... She will rescue you but want your honey voice in return. Darn it !',
                'death-say-yes-option3': 'You all heard of the famous Puss in Boots ? Meow, he\'s fluffy',
                'death-say-yes-option4': 'It\'s your mum.',
                
                // Questions du chemin vaisseau spatial (suite)
                'spaceship-return-title': 'On the way back to Earth, you\'ve been hit by the tip of an asteroid. This doesn\'t look good... What is your reaction?',
                'spaceship-return-option1': 'Try to calm the crew even though you have no idea how you will survive',
                'spaceship-return-option2': 'Stay positive no matter what: "If you pay attention, all the spaceship beeping together make a great melody!"',
                'spaceship-return-option3': 'F*ck this, we are all gonna diiieeeee!!!!',
                'spaceship-return-option4': 'You don\'t handle stressful situations very well and simply faint',

                'spaceship-landing-title': 'Miraculously, you manage to land on Earth! You arrive as heroes who saved all the REEkind by deviating the asteroid\'s trajectory. What is the first word you say when you land and talk to the first journalist?',
                'spaceship-landing-option1': '"Man, I\'m hungry"',
                'spaceship-landing-option2': '"I think I need to change my pants"',
                'spaceship-landing-option3': '"It was craaaazy! I loved it!!"',
                'spaceship-landing-option4': '"Yeaaaaah we saved your life, now where\'s my million !?!?!"',

                'spaceship-europa-title': 'As a true biologist, you want to explore what\'s beneath the frosted crust. Who knows what you\'ll find! You bet with your co-worker on what you think you will find.',
                'spaceship-europa-option1': 'Microbes that emit fluorescence at the sound of your voice',
                'spaceship-europa-option2': 'Many different plants with appearances ranging from shark-like to snail-like',
                'spaceship-europa-option3': 'Jellyfishes with bee stripes that eat sunlight and wear swimming goggles',
                'spaceship-europa-option4': 'Nothing really alive but wait... you discover that everything you experience is part of the matrix',
  
                // Cookie path questions
                'death-cookie-title': 'Too bad for you, you suddenly have a cramp... I guess it\'s time to say goodbye... What are your last words ?',
                'death-cookie-option1': '"I have no regrets. This cookie was REElicious"',
                'death-cookie-option2': '"Woman, I only had 1 life.... Goodbye recycling"',
                'death-cookie-option3': '"Man, why did I always skip sport at school"',
                'death-cookie-option4': '"F*ck I\'m gonna die a virgin"',
                
                'death-still-hungry-title': 'Wait... you\'re still hungry! The cookie wasn\'t enough to satisfy your appetite. What do you do next?',
                'death-still-hungry-option1': 'Look for more cookies in the trash',
                'death-still-hungry-option2': 'Start eating anything that looks remotely edible',
                'death-still-hungry-option3': 'Try to find a proper kitchen to cook something',
                'death-still-hungry-option4': 'Complain loudly that one cookie is never enough',
                
                'death-cooking-class-title': 'Suddenly, a cooking show host appears out of nowhere! They want to teach you how to make the perfect cookie. What\'s your reaction?',
                'death-cooking-class-option1': '"Finally! I\'ve been waiting for this moment my whole life!"',
                'death-cooking-class-option2': '"Sure, but can we make it extra chocolatey?"',
                'death-cooking-class-option3': '"I don\'t need help, I\'m already a cookie master"',
                'death-cooking-class-option4': '"Can we just skip to the eating part?"',
                
                // Project description for character result
                'project-description': 'We are 13 students from UNIL, united by an iGEM project: an international competition in synthetic biology. This summer, we\'ll be working together on the project we\'ve chosen, with a clear goal in mind: to make real progress and give it our all!<br><br>Our project, REEvolutionaTe, is all about creating a sustainable way to recover rare earth elements (REE) and tellurium (Te). To do this, we\'re using genetically engineered bacteria that can capture and recycle these valuable materials.<br><br>Rare earth elements and tellurium are crucial for industries like electronics, renewable energy, and metallurgy—especially when it comes to recycling from electronic waste. The problem is, traditional mining methods are very polluting, rely on large amounts of harmful chemicals, and lead to major biodiversity loss. And with global demand growing—especially for praseodymium, neodymium, and dysprosium—finding greener alternatives is more urgent than ever.<br><br>That\'s why we\'re focusing on six rare earth elements (lanthanum, cerium, neodymium, dysprosium, gadolinium, praseodymium) plus tellurium. Our aim is to design bacteria that can efficiently extract and recycle them from electronicl waste (e-waste).<br><br>At the heart of all this is synthetic biology. It gives us the tools to reprogram microorganisms and turn them into tiny, powerful allies for tackling big environmental challenges in innovative and sustainable ways.<br><br>See more: <a href="https://2025.igem.wiki/unilausanne/" target="_blank">REEvolutionaTe</a>'
            },
            fr: {
                // Page d'accueil
                'title': '✨ Quel Élément de Terre Rare (REE) êtes-vous ? ✨',
                'subtitle': 'Découvrez quel élément de terre rare correspond à votre personnalité en répondant à quelques questions simples !',
                'ready': 'Prêt à découvrir votre élément intérieur ?',
                'quiz-description': 'Ce quiz scientifique vous aidera à découvrir quel élément de terre rare correspond à votre personnalité parmi :',
                'start-quiz': 'Commencer le quiz',
                'no-wrong-answers': '💡 Il n\'y a ni bonnes ni mauvaises réponses - soyez simplement vous-même !',
                
                // En-tête du quiz
                'quiz-title': 'Quel Élément de Terre Rare (REE) êtes-vous ?',
                'question-progress': 'Question {current} sur 6',
                
                // Boutons de navigation
                'back': '← Retour',
                'next': 'Suivant →',
                'continue': 'Continuer →',
                'restart': 'Recommencer',
                'see-ree': 'Cliquer ici pour voir votre REE',
                'restart-adventure': 'Recommencer l\'aventure',
                'discover': 'Découvrir',
                
                // Questions
                'question1': 'Vous voici, un Élément de Terre Rare (REE)) parmi tant d\'autres dans des déchets électroniques. Quel bazar... Pour échapper à la mort due à votre âge avancé, vous devez faire équipe avec vos amis REE. Quelle est votre première action ?',
                'q1-option1': 'Vous aimez rester au sommet de la situation et vous prenez les devants.',
                'q1-option2': 'Vous n\'avez jamais été doué pour parler en public mais vous gardez votre beau sourire',
                'q1-option3': 'Vous avez quelque chose de si intelligent à dire que personne ne comprend et commence à s\'endormir',
                'q1-option4': 'Vous êtes juste heureux de faire partie de l\'équipe',
                
                'question2': 'Vous avez trouvé un plan pour échapper de ces déchets électroniques. Quel est-il ?',
                'q2-option1': 'Pendant que tout le monde courait comme des poules sans tête, vous avez réussi à construire un vaisseau spatial et à vous envoler',
                'q2-option2': 'La mort ne vous fait pas peur. Vous savez que votre heure n\'est pas venue et vous suivez le mouvement',
                'q2-option3': 'C\'est la fin. Aucun espoir mais encore le temps de s\'amuser et de faire un dernier apéro',
                'q2-option4': 'Vous regardez à droite et voyez le panneau de sortie',
                
                // Résultats
                'results-title': '🎉 Vous vous êtes échappé ! 🎉',
                'congrats': 'FÉLICITATIONS ! vous l\'avez fait ! Vous n\'êtes plus un déchet... quel soulagement !',
                'reevolutionate-text': 'Vous avez été officiellement REEcyclé, grâce à vos sauveurs : les brillants étudiants de Lausanne derrière le projet REEvolutionaTe.<br><br>Ils ont utilisé des bactéries pour faire tout le sale travail afin que vous puissiez vivre éternellement.<br>Curieux de savoir comment ils ont fait ? Allez jeter un coup d\'œil dans les coulisses : [Lien Wiki]<br><br>De rien ;)',
                'see-ree': 'Cliquer ici pour voir quel REE vous êtes',
                'restart': 'Refaire le quiz',
                'share': 'Partager mon résultat',
                'discover': 'Découvrir mon résultat ! 🎉',
                'restart-adventure': 'Recommencer l\'aventure',
                
                // Réponses de la carte finale
                'final-card-q1': 'Ta maman avait raison, tu fuis toujours quand le danger arrive',
                'final-card-q2': 'Tu aimes tellement l\'apéro... Encore plus que ta propre vie',
                'final-card-q3': 'Les cookies de mamie sont les meilleurs du monde',
                'final-card-q4': 'Apprendre quoi ? J\'ai oublié de prendre des notes.',
                'final-card-q5': 'Tu as réalisé que tu as vraiment le mal de l\'espace',
                
                // Exit question
                'exit-title': 'Pensiez-vous vraiment que ce serait si facile ?',
                'exit-continue': 'Continuer',
                
                // Questions du chemin apéro
                'apero-1-title': 'Comme c\'est probablement votre dernier apéro, il doit être PARFAIT. Tout le monde participe et va chercher les meilleurs ingrédients. Que choisissez-vous de préparer ?',
                'apero-1-option1': 'Bâtonnets de légumes (avec des épices et tout parce que vous êtes chic et en bonne santé)',
                'apero-1-option2': 'Fromage et crackers',
                'apero-1-option3': 'Houmous et autres types de sauces',
                'apero-1-option4': 'Bâtonnets de bœuf',
                'apero-1-option5': 'Vous ne cuisinez pas vraiment mais vous vous occupez des boissons ;)',
                
                'apero-music-title': 'Une chose obligatoire manque .... la musique !!! Que choisissez-vous de jouer ?',
                'apero-music-option1': 'Tellurium Swift',
                'apero-music-option2': 'REEminem',
                'apero-music-option3': 'REEyoncé AKA Queen REE',
                'apero-music-option4': 'The REElling stones',
                
                'apero-game-title': 'Il semble que certains soient encore un peu stressés par cette histoire d\'être piégés pour toujours dans les déchets... Pour détendre l\'atmosphère, tu proposes de jouer à un jeu. Lequel ?',
                'apero-game-option1': 'Un jeu de cartes comme un petit poker pour rendre les choses plus intéressantes',
                'apero-game-option2': 'Un classique jeu de charades',
                'apero-game-option3': 'Trivial Pursuit pour que tu puisses montrer tes connaissances de culture générale',
                'apero-game-option4': 'Action ou vérité',
                
                'apero-poker-charades-title': 'Quelqu\'un devient trop compétitif et commence à te crier dessus en pensant que tu triches. Comment réagis-tu ?',
                'apero-poker-charades-option1': 'Tu as effectivement triché mais tu choisis de nier : "Moi, tricher ? Je n\'oserais jamais !"',
                'apero-poker-charades-option2': 'Tu as triché mais tu n\'aimes pas les disputes alors tu avoues tout et proposes un gros câlin en guise de réconciliation',
                'apero-poker-charades-option3': 'Tu ne tricherais jamais, tu es juste trop talentueux',
                'apero-poker-charades-option4': 'Tu paniques et commences à chanter "Sous l\'océan" de la petite sirène',
                
                'apero-truth-dare-title': 'Quelqu\'un te met au défi de marcher sur le feu parce que c\'est ce que font les vrais leaders (ref. The Office)... Alors, es-tu un vrai leader ?',
                'apero-truth-dare-option1': 'Oui',
                'apero-truth-dare-option2': 'Non',
                
                'apero-yes-fire-title': 'P*tain tu es fou ! Comment va ton pied ?',
                'apero-yes-fire-option1': 'Tout va bien, tu es super résistant à la douleur',
                'apero-yes-fire-option2': 'Tu pleures, tu supplies pour de la glace et tu appelles ta maman... (Réaction normale, tu viens de marcher sur le feu)',
                
                'apero-no-truth-title': 'Tu n\'es pas si fou alors tu passes à la vérité à la place. Quelle est ta plus grande peur ?',
                'apero-no-truth-option1': 'Peur des serpents',
                'apero-no-truth-option2': 'Peur des pieds',
                'apero-no-truth-option3': 'Peur de la chimie',
                'apero-no-truth-option4': 'Peur de rater quelque chose',
                
                'apero-tellurium-swift-title': 'Après cette scène chaotique, l\'ambiance de l\'équipe chute et te permet d\'entendre de la musique à travers les déchets électroniques. En t\'approchant, tu réalises que c\'est un concert de nulle autre que la star Tellurium Swift !!!',
                'apero-tellurium-swift-option1': 'Tu deviens complètement fou et essaies de passer la sécurité pour serrer ton idole dans tes bras',
                'apero-tellurium-swift-option2': 'Tu laisses sortir ta folie et commences à danser comme si personne ne te regardait',
                'apero-tellurium-swift-option3': 'Tu es introverti alors juste bouger un peu les jambes est déjà un effort',
                'apero-tellurium-swift-option4': 'Tu n\'es pas fan et tu mets tes écouteurs pour écouter REEminem.',
                
                'apero-mongolfiere-title': 'À la fin du concert, Tellurium Swift t\'offre ainsi qu\'à ton équipe de vous échapper dans sa montgolfière mais vous devez d\'abord répondre à une énigme.<br><br>"Je suis petit et circulaire, en dehors du fil principal,<br>Je porte la résistance et des secrets que les bactéries peuvent répandre.<br>Je ne code pas pour la vie, mais la vie m\'utilise quand même—<br>Transfert horizontal ? Je corresponds à cette description."<br><br><strong>Que suis-je ?</strong>',
                'apero-mongolfiere-option1': 'ADN',
                'apero-mongolfiere-option2': 'Une alliance',
                'apero-mongolfiere-option3': 'Un plasmide',
                'apero-mongolfiere-option4': 'Europe (lune de Jupiter)',
                
                'apero-plasmid-correct-title': 'Ouaaaais, bonne réponse ! Tu as écouté en cours de biologie !<br>Tu peux maintenant t\'échapper et profiter de la vue :)',
                'apero-plasmid-correct-option1': 'Profiter de la belle vue depuis la montgolfière',
                'apero-plasmid-correct-option2': 'Prendre des selfies avec Tellurium Swift',
                'apero-plasmid-correct-option3': 'Demander à Tellurium Swift des infos sur la science derrière les plasmides',
                'apero-plasmid-correct-option4': 'Planifier ta prochaine aventure une fois que tu auras atterri',
                
                'final-card-title': 'Alors que ton aventure touche à sa fin, quelles leçons as-tu apprises ?',
                'final-card-option1': 'Ta maman avait raison, tu fuis toujours quand le danger arrive',
                'final-card-option2': 'Tu aimes tellement l\'apéro... Encore plus que ta propre vie',
                'final-card-option3': 'Les cookies de mamie sont les meilleurs du monde',
                'final-card-option4': 'Apprendre quoi ? J\'ai oublié de prendre des notes.',
                'final-card-option5': 'Tu as réalisé que tu as vraiment le mal de l\'espace',
                
                // Questions du chemin mort
                'death-1-title': 'Soudain, un gros monstre-aimant fonce sur toi, il veut se lier à toi. Comment réagis-tu ?',
                'death-1-option1': 'Tu le vois s\'approcher et tu commences à pleurer en pensant que ton heure est peut-être arrivée après tout',
                'death-1-option2': 'Tu t\'en fiches et tu te concentres sur un énorme cookie géant, au milieu des déchets, qui sent comme la maison de ta grand-mère. Tu vas le manger.',
                'death-1-option3': 'Tu adores les câlins alors tu l\'accueilles les bras ouverts. C\'est l\'heure des câlins.',
                
                // Questions du chemin vaisseau spatial
                'spaceship-1-title': 'Wow, tes connaissances ont été vraiment efficaces car tu as déjà ton vaisseau spatial prêt. Où veux-tu aller ?',
                'spaceship-1-option1': 'La lune, en pensant que tu as une meilleure phrase d\'accroche que "C\'est un petit pas pour l\'homme, un bond de géant pour l\'humanité."',
                'spaceship-1-option2': 'Aller sur Europe, la lune de Jupiter, car nous pensons qu\'il y a de la vie là-bas',
                
                'spaceship-moon-title': 'Alors que tu enfiles ta combinaison d\'astronaute pour aller marcher sur la lune, tu penses à la phrase d\'accroche que tu vas dire. Que choisis-tu ?',
                'spaceship-moon-option1': '"Oooooooover the moon Baby!" - Tout pour la caméra !',
                'spaceship-moon-option2': 'Tu paniques devant la caméra et dis juste "Regarde maman, je marche sur la lune !" et tu commences à chanter "Walking on the Moon" de The Police',
                'spaceship-moon-option3': 'Tu prépares une déclaration scientifiquement exacte sur l\'exploration lunaire',
                'spaceship-moon-option4': 'Tu oublies la phrase d\'accroche et tu commences juste à faire des bonds lunaires pour t\'amuser',
                
                'death-crying-hugs-title': 'Tu as oublié que tu as une myopie de -10 et tu t\'es assis sur tes lunettes... Ce n\'est pas un monstre mais juste ton reflet dans un miroir. Que vois-tu dans ton reflet ?',
                'death-crying-hugs-option1': 'Je devrais manger plus de carottes... ça pourrait être bon pour mes yeux.',
                'death-crying-hugs-option2': 'Purée, je vieillis !',
                'death-crying-hugs-option3': 'OMG, j\'ai des lèvres pulpeuses ! Merci l\'ADN de maman',
                'death-crying-hugs-option4': 'Tu pleures encore plus',
                
                // Question CRY_MORE_PATH
                'death-cry-more-title': 'Il est temps de vraiment sortir de ces déchets, tu dois sortir d\'ici ! Quel transport prends-tu ?',
                'death-cry-more-option1': 'Train',
                'death-cry-more-option2': 'Limousine',
                'death-cry-more-option3': 'Tandem',
                'death-cry-more-option4': 'Sur le dos d\'un T-rex',
                'death-cry-more-option5': 'Chaussures de téléportation',
                
                // Question MIRROR REFLECTION PATH
                'death-mirror-title': 'Tu es tellement obsédé par ton propre reflet...',
                'death-mirror-option1': 'Tu n\'as pas vu tout le monde partir',
                'death-mirror-option2': 'Tu es tellement beau que tous tes amis REE commencent à regarder ton reflet',
                'death-mirror-option3': 'Tu te demandes en mariage et tu dis OUUUIII !!!',
                
                // Question ALL ALONE PATH
                'death-all-alone-title': 'Tu peux enfin être seul avec ton béguin : TOI ! Comme toute personne normale le ferait, tu commences à chanter : "All by myyyyyyself" de Cerium Dion. Ton sauveur adore cette chanson et vient te sauver de ces déchets. Mais qui est ce REE (Rare Earth Element) ?',
                'death-all-alone-option1': 'pREEnce charmant, il a de ces REEzz !',
                'death-all-alone-option2': 'C\'est une sorcière... Elle va te sauver mais veut ta voix de miel en retour. Merde !',
                'death-all-alone-option3': 'Vous avez tous entendu parler du célèbre Chat Potté ? Miaou, il est duveteux',
                'death-all-alone-option4': 'C\'est ta maman.',
                
                // Question BEAUTIFUL PATH
                'death-beautiful-title': 'Ta beauté a ensorcelé tout le monde. Tu profites de cette opportunité pour regrouper tout le monde et travailler sur votre plan d\'évasion final. Quel est ce grand discours ?',
                'death-beautiful-option1': '"I have a dREEam..." (tu connais la suite)',
                'death-beautiful-option2': '"Comme dit grand-mère : \'L\'IA peut coder mais peut-elle faire de la soupe ?\'"',
                'death-beautiful-option3': '"L\'hiver arrive, bouge tes f*sses !"',
                'death-beautiful-option4': '"Expecto Patronum" HarREE Pot-Te-r avait raison, ça marche !',
                
                // Question SAY YES PATH
                'death-say-yes-title': 'Tellurium Swift a entendu ta réponse et commence à chanter un de ses plus grands succès "Love stoREE". Tout le monde se met à chanter, c\'est si beau. Ton sauveur adore cette chanson et vient te sauver. Mais qui est ce REE ?',
                'death-say-yes-option1': 'pREEnce charmant, il a de ces REEzz !',
                'death-say-yes-option2': 'C\'est une sorcière... Elle va te sauver mais veut ta voix de miel en retour. M*rde !',
                'death-say-yes-option3': 'Vous avez tous entendu parler du célèbre Chat Potté ? Miaou, il est duveteux',
                'death-say-yes-option4': 'C\'est ta maman.',
                
                // Questions du chemin vaisseau spatial (suite)
                'spaceship-return-title': 'Sur le chemin du retour vers la Terre, vous avez été touchés par la pointe d\'un astéroïde. Ça n\'a pas l\'air bon... Quelle est ta réaction ?',
                'spaceship-return-option1': 'Essayer de calmer l\'équipage même si tu n\'as aucune idée de comment vous allez survivre',
                'spaceship-return-option2': 'Rester positif quoi qu\'il arrive : "Si vous faites attention, tous les bips du vaisseau ensemble font une super mélodie !"',
                'spaceship-return-option3': 'M*rde, on va tous mouuuuuurir !!!!',
                'spaceship-return-option4': 'Tu ne gères pas bien les situations stressantes et tu t\'évanouis simplement',
                
                'spaceship-landing-title': 'Miraculeusement, vous réussissez à atterrir sur Terre ! Vous arrivez en héros qui ont sauvé tous les REE en déviant la trajectoire de l\'astéroïde. Quel est le premier mot que tu dis quand tu atterris et parles au premier journaliste ?',
                'spaceship-landing-option1': '"Mec, j\'ai faim"',
                'spaceship-landing-option2': '"Je crois que je dois changer mon pantalon"',
                'spaceship-landing-option3': '"C\'était diiingue ! J\'ai adoré !!"',
                'spaceship-landing-option4': '"Ouaaaaaais on vous a sauvé la vie, maintenant où est mon million !?!?!"',
                
                'spaceship-europa-title': 'En tant que vrai biologiste, tu veux explorer ce qui se cache sous la croûte givrée. Qui sait ce que tu vas trouver ! Tu paries avec ton collègue sur ce que tu penses trouver.',
                'spaceship-europa-option1': 'Des microbes qui émettent de la fluorescence au son de ta voix',
                'spaceship-europa-option2': 'Beaucoup de plantes différentes avec des apparences allant du requin à l\'escargot',
                'spaceship-europa-option3': 'Des méduses avec des rayures d\'abeilles qui mangent la lumière du soleil et portent des lunettes de natation',
                'spaceship-europa-option4': 'Rien de vraiment vivant mais attends... tu découvres que tout ce que tu vis fait partie de la matrice',
                
                // Questions du chemin cookie
                'death-cookie-title': 'Tant pis pour toi, tu as soudain une crampe... Je suppose qu\'il est temps de dire au revoir... Quels sont tes derniers mots ?',
                'death-cookie-option1': '"Je n\'ai aucun regret. Ce cookie était REElicieux"',
                'death-cookie-option2': '"Ma parole, je n\'ai eu qu\'une seule vie... Au revoir le recyclage"',
                'death-cookie-option3': '"Merde, pourquoi j\'ai toujours séché le sport à l\'école"',
                'death-cookie-option4': '"Putain je vais mourir puceau"',
                
                'death-still-hungry-title': 'Attends... tu as encore faim ! Le cookie n\'était pas suffisant pour satisfaire ton appétit. Que fais-tu ensuite ?',
                'death-still-hungry-option1': 'Chercher plus de cookies dans la poubelle',
                'death-still-hungry-option2': 'Commencer à manger tout ce qui semble vaguement comestible',
                'death-still-hungry-option3': 'Essayer de trouver une vraie cuisine pour cuisiner quelque chose',
                'death-still-hungry-option4': 'Se plaindre bruyamment qu\'un cookie n\'est jamais suffisant',
                
                'death-cooking-class-title': 'Soudain, un animateur d\'émission culinaire apparaît de nulle part ! Il veut t\'apprendre à faire le cookie parfait. Quelle est ta réaction ?',
                'death-cooking-class-option1': '"Enfin ! J\'attendais ce moment toute ma vie !"',
                'death-cooking-class-option2': '"D\'accord, mais peut-on le rendre extra chocolaté ?"',
                'death-cooking-class-option3': '"Je n\'ai pas besoin d\'aide, je suis déjà un maître des cookies"',
                'death-cooking-class-option4': '"Peut-on passer directement à la partie dégustation ?"',
                
                // Description du projet pour le résultat de personnage
                'project-description': 'Nous sommes 13 étudiants de l\'UNIL, unis par un projet iGEM : une compétition internationale en biologie synthétique. Cet été, nous travaillerons ensemble sur le projet que nous avons choisi, avec un objectif clair en tête : faire de vrais progrès et donner le meilleur de nous-mêmes !<br><br>Notre projet, REEvolutionaTe, consiste à créer un moyen durable de récupérer les éléments de terres rares (REE) et le tellure (Te). Pour cela, nous utilisons des bactéries génétiquement modifiées capables de capturer et de recycler ces matériaux précieux.<br><br>Les éléments de terres rares et le tellure sont cruciaux pour des industries comme l\'électronique, les énergies renouvelables et la métallurgie—surtout quand il s\'agit de recyclage des déchets électroniques. Le problème, c\'est que les méthodes d\'extraction traditionnelles sont très polluantes, dépendent de grandes quantités de produits chimiques nocifs et entraînent une perte majeure de biodiversité. Et avec la demande mondiale croissante—notamment pour le praséodyme, le néodyme et le dysprosium—trouver des alternatives plus vertes devient de plus en plus urgent.<br><br>C\'est pourquoi nous nous concentrons sur six éléments de terres rares (lanthane, cérium, néodyme, dysprosium, gadolinium, praséodyme) plus le tellure. Notre objectif est de concevoir des bactéries capables d\'extraire et de recycler efficacement ces éléments des déchets électroniques.<br><br>Au cœur de tout cela se trouve la biologie synthétique. Elle nous donne les outils pour reprogrammer les micro-organismes et les transformer en petits alliés puissants pour relever de grands défis environnementaux de manière innovante et durable.<br><br>En savoir plus : <a href="https://2025.igem.wiki/unilausanne/" target="_blank">REEvolutionaTe</a>'
            }
        };

        // Language switching functionality
        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById('btn-' + lang).classList.add('active');
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            
            // Update all translated content
            updateAllContent(lang);
        }

        function updateAllContent(lang) {
            const t = translations[lang];
            
            // Update elements with data-translate attributes
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (t[key]) {
                    if (key.includes('progress')) {
                        // Handle progress text with placeholder
                        const currentQ = document.getElementById('question-actuelle').textContent;
                        element.innerHTML = t[key].replace('{current}', `<span id="question-actuelle">${currentQ}</span>`);
                    } else {
                        element.innerHTML = t[key];
                    }
                }
            });
            
            // Update result pages content
            updateResultPages(lang);
            
            // Update button texts
            updateButtonTexts(lang);
        }

        function updateResultPages(lang) {
            const t = translations[lang];
            
            // Update REEvolutionate message
            const reevolutionateTitle = document.querySelector('#reevolutionate-message h2');
            if (reevolutionateTitle) reevolutionateTitle.textContent = t['results-title'];
            
            const reevolutionateCongrats = document.querySelector('#reevolutionate-message h3');
            if (reevolutionateCongrats) reevolutionateCongrats.textContent = t['congrats'];
            
            const reevolutionateText = document.querySelector('#reevolutionate-message p');
            if (reevolutionateText) reevolutionateText.innerHTML = t['reevolutionate-text'];
            
            // Update main result page
            const resultTitle = document.querySelector('#resultat h2');
            if (resultTitle) resultTitle.textContent = t['results-title'];
            
            const resultCongrats = document.querySelector('#resultat h3');
            if (resultCongrats) resultCongrats.textContent = t['congrats'];
            
            const resultText = document.querySelector('#resultat p');
            if (resultText) resultText.innerHTML = t['reevolutionate-text'];
            
            // Update exit ending
            updateExitTranslations();
            
            // Update project description in character result
            const projectDesc = document.querySelector('[data-translate="project-description"]');
            if (projectDesc && t['project-description']) {
                projectDesc.innerHTML = t['project-description'];
            }
        }

        function updateButtonTexts(lang) {
            const t = translations[lang];

            // Update button texts
            const backButtons = document.querySelectorAll('.btn-precedent');
            backButtons.forEach(btn => btn.textContent = t['back']);
            
            const continueButtons = document.querySelectorAll('.btn-suivant');
            continueButtons.forEach(btn => {
                const currentText = btn.textContent.trim();
                if (currentText.includes('Next') || currentText.includes('Suivant') || currentText === '') {
                    btn.textContent = t['next'];
                } else if (currentText.includes('Continue') || currentText.includes('Continuer')) {
                    btn.textContent = t['continue'];
                } else {
                    // Default to next if we can't determine the type
                    btn.textContent = t['next'];
                }
            });
            
            const restartButtons = document.querySelectorAll('.btn-recommencer');
            restartButtons.forEach(btn => btn.textContent = t['restart']);
            
            const shareButtons = document.querySelectorAll('.btn-partager');
            shareButtons.forEach(btn => {
                if (btn.textContent.includes('Click here to see') || btn.textContent.includes('Cliquer ici')) {
                    btn.textContent = t['see-ree'];
                } else if (btn.textContent.includes('Restart') || btn.textContent.includes('Recommencer')) {
                    btn.textContent = t['restart-adventure'];
                } else {
                    btn.textContent = t['share'];
                }
            });
            
            const discoverButtons = document.querySelectorAll('.btn-resultat');
            discoverButtons.forEach(btn => btn.textContent = t['discover']);
        }

        // Initialize with data-translate attributes
        function initializeTranslations() {
            // Add data-translate attributes to elements that need translation
            const elementsToTranslate = [
                { selector: '.titre-principal', key: 'title' },
                { selector: '.sous-titre', key: 'subtitle' },
                { selector: '.carte-accueil h2', key: 'ready' },
                { selector: '.carte-accueil p', key: 'quiz-description' },
                { selector: '.btn-commencer', key: 'start-quiz' },
                { selector: 'footer p', key: 'no-wrong-answers' },
                { selector: '.quiz-header h1', key: 'quiz-title' },
                { selector: '.progress-text', key: 'question-progress' }
            ];

            elementsToTranslate.forEach(item => {
                const element = document.querySelector(item.selector);
                if (element) {
                    element.setAttribute('data-translate', item.key);
                }
            });

            // Add data-translate attributes to PDF container
            const pdfTitle = document.querySelector('#pdf-container h2');
            if (pdfTitle) pdfTitle.setAttribute('data-translate', 'ree-character-title');

            // Initialize missing translations for PDF container
            translations.en['ree-character-title'] = '🎉 Your REE Character! 🎉';
            translations.fr['ree-character-title'] = '🎉 Votre Personnage REE ! 🎉';
        }

        // Initialize translations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeTranslations();
            updateAllContent(currentLanguage);
        });

        function commencerQuiz() {
            document.getElementById('accueil').style.display = 'none';
            document.getElementById('quiz').style.display = 'block';
            mettreAJourProgress();
        }

        function questionSuivante() {
            // Vérifier qu'une réponse est sélectionnée
            const questionCourante = document.querySelector('.question-card.active');
            const reponseSelectionnee = questionCourante.querySelector('input[type="radio"]:checked');
            
            if (!reponseSelectionnee) {
                alert('Please select an answer before continuing.');
                return;
            }

            // Vérifier si c'est la fin spéciale "EXIT_ENDING"
            if (reponseSelectionnee.value.includes('EXIT_ENDING')) {
                afficherFinSpeciale();
                return;
            }

            // Masquer la question actuelle
            questionCourante.classList.remove('active');

            // Vérifier les chemins spéciaux de la question 2
            if (questionActuelle === 2) {
                if (reponseSelectionnee.value.includes('SPACESHIP_PATH')) {
                    // Aller vers le chemin spaceship
                    currentPath = 'spaceship';
                    const spaceshipQuestion = document.querySelector('[data-question="spaceship-1"]');
                    if (spaceshipQuestion) {
                        spaceshipQuestion.classList.add('active');
                        questionActuelle = 'spaceship-1';
                        mettreAJourProgress();
                    }
                    return;
                } else if (reponseSelectionnee.value.includes('DEATH_NO_SCARE_PATH')) {
                    // Aller vers le chemin death no scare
                    currentPath = 'death';
                    const deathQuestion = document.querySelector('[data-question="death-1"]');
                    if (deathQuestion) {
                        deathQuestion.classList.add('active');
                        questionActuelle = 'death-1';
                        mettreAJourProgress();
                    }
                    return;
                } else if (reponseSelectionnee.value.includes('APERO_PATH')) {
                    // Aller vers le chemin apero
                    currentPath = 'apero';
                    const aperoQuestion = document.querySelector('[data-question="apero-1"]');
                    if (aperoQuestion) {
                        aperoQuestion.classList.add('active');
                        questionActuelle = 'apero-1';
                        mettreAJourProgress();
                    }
                    return;
                }
            }

            // Navigation pour les chemins Spaceship
            if (questionActuelle === 'spaceship-1') {
                if (reponseSelectionnee.value.includes('MOON_PATH')) {
                    currentPath = 'spaceship-moon';
                    const moonQuestion = document.querySelector('[data-question="spaceship-moon"]');
                    if (moonQuestion) {
                        moonQuestion.classList.add('active');
                        questionActuelle = 'spaceship-moon';
                        mettreAJourProgress();
                    }
                    return;
                } else if (reponseSelectionnee.value.includes('EUROPA_PATH')) {
                    currentPath = 'spaceship-europa';
                    const europaQuestion = document.querySelector('[data-question="spaceship-europa"]');
                    if (europaQuestion) {
                        europaQuestion.classList.add('active');
                        questionActuelle = 'spaceship-europa';
                        mettreAJourProgress();
                    }
                    return;
                }
            }

            // Navigation pour les questions du chemin Moon
            if (questionActuelle === 'spaceship-moon') {
                const returnQuestion = document.querySelector('[data-question="spaceship-return"]');
                if (returnQuestion) {
                    returnQuestion.classList.add('active');
                    questionActuelle = 'spaceship-return';
                    mettreAJourProgress();
                }
                return;
            }

            // Navigation pour les questions du chemin Europa vers le retour
            if (questionActuelle === 'spaceship-europa') {
                const returnQuestion = document.querySelector('[data-question="spaceship-return"]');
                if (returnQuestion) {
                    returnQuestion.classList.add('active');
                    questionActuelle = 'spaceship-return';
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'spaceship-return') {
                const landingQuestion = document.querySelector('[data-question="spaceship-landing"]');
                if (landingQuestion) {
                    landingQuestion.classList.add('active');
                    questionActuelle = 'spaceship-landing';
                    mettreAJourProgress();
                }
                return;
            }

            // Navigation pour les chemins Death path
            if (questionActuelle === 'death-1') {
                if (reponseSelectionnee.value.includes('CRYING_OR_HUGS_PATH')) {
                    currentPath = 'death-crying-hugs';
                    const cryingHugsQuestion = document.querySelector('[data-question="death-crying-hugs"]');
                    if (cryingHugsQuestion) {
                        cryingHugsQuestion.classList.add('active');
                        questionActuelle = 'death-crying-hugs';
                        mettreAJourProgress();
                    }
                    return;
                } else if (reponseSelectionnee.value.includes('COOKIE_PATH')) {
                    currentPath = 'death-cookie';
                    const cookieQuestion = document.querySelector('[data-question="death-cookie"]');
                    if (cookieQuestion) {
                        cookieQuestion.classList.add('active');
                        questionActuelle = 'death-cookie';
                        mettreAJourProgress();
                    }
                    return;
                }
            }

            if (questionActuelle === 'death-crying-hugs') {
                if (reponseSelectionnee.value.includes('CRY_MORE_PATH')) {
                    currentPath = 'death-cry-more';
                    const cryMoreQuestion = document.querySelector('[data-question="death-cry-more"]');
                    if (cryMoreQuestion) {
                        cryMoreQuestion.classList.add('active');
                        questionActuelle = 'death-cry-more';
                        mettreAJourProgress();
                    }
                    return;
                } else {
                    currentPath = 'death-mirror';
                    const mirrorQuestion = document.querySelector('[data-question="death-mirror"]');
                    if (mirrorQuestion) {
                        mirrorQuestion.classList.add('active');
                        questionActuelle = 'death-mirror';
                        mettreAJourProgress();
                    }
                    return;
                }
            }

            // Navigation for mirror reflection sub-paths
            if (questionActuelle === 'death-mirror') {
                if (reponseSelectionnee.value.includes('ALL_ALONE_PATH')) {
                    currentPath = 'death-all-alone';
                    const allAloneQuestion = document.querySelector('[data-question="death-all-alone"]');
                    if (allAloneQuestion) {
                        allAloneQuestion.classList.add('active');
                        questionActuelle = 'death-all-alone';
                        mettreAJourProgress();
                    }
                    return;
                } else if (reponseSelectionnee.value.includes('BEAUTIFUL_PATH')) {
                    currentPath = 'death-beautiful';
                    const beautifulQuestion = document.querySelector('[data-question="death-beautiful"]');
                    if (beautifulQuestion) {
                        beautifulQuestion.classList.add('active');
                        questionActuelle = 'death-beautiful';
                        mettreAJourProgress();
                    }
                    return;
                } else if (reponseSelectionnee.value.includes('SAY_YES_PATH')) {
                    currentPath = 'death-say-yes';
                    const sayYesQuestion = document.querySelector('[data-question="death-say-yes"]');
                    if (sayYesQuestion) {
                        sayYesQuestion.classList.add('active');
                        questionActuelle = 'death-say-yes';
                        mettreAJourProgress();
                    }
                    return;
                }
            }

            // Navigation for cookie path continuation
            if (questionActuelle === 'death-cookie') {
                const stillHungryQuestion = document.querySelector('[data-question="death-still-hungry"]');
                if (stillHungryQuestion) {
                    stillHungryQuestion.classList.add('active');
                    questionActuelle = 'death-still-hungry';
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'death-still-hungry') {
                const cookingClassQuestion = document.querySelector('[data-question="death-cooking-class"]');
                if (cookingClassQuestion) {
                    cookingClassQuestion.classList.add('active');
                    questionActuelle = 'death-cooking-class';
                    mettreAJourProgress();
                }
                return;
            }

            // Navigation for apero path
            if (questionActuelle === 'apero-1') {
                const musicQuestion = document.querySelector('[data-question="apero-music"]');
                if (musicQuestion) {
                    musicQuestion.classList.add('active');
                    questionActuelle = 'apero-music';
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'apero-music') {
                const gameQuestion = document.querySelector('[data-question="apero-game"]');
                if (gameQuestion) {
                    gameQuestion.classList.add('active');
                    questionActuelle = 'apero-game';
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'apero-game') {
                if (reponseSelectionnee.value.includes('LANTHANE:1,GADOLINIUM:1')) {
                    // Truth or dare was selected
                    const truthDareQuestion = document.querySelector('[data-question="apero-truth-dare"]');
                    if (truthDareQuestion) {
                        truthDareQuestion.classList.add('active');
                        questionActuelle = 'apero-truth-dare';
                        mettreAJourProgress();
                    }
                } else {
                    // Any other game (poker, charades, trivial) was selected
                    const pokerCharadesQuestion = document.querySelector('[data-question="apero-poker-charades"]');
                    if (pokerCharadesQuestion) {
                        pokerCharadesQuestion.classList.add('active');
                        questionActuelle = 'apero-poker-charades';
                        mettreAJourProgress();
                    }
                }
                return;
            }

            // Navigation for truth or dare sub-paths
            if (questionActuelle === 'apero-truth-dare') {
                if (reponseSelectionnee.value.includes('YES_PATH')) {
                    const yesFireQuestion = document.querySelector('[data-question="apero-yes-fire"]');
                    if (yesFireQuestion) {
                        yesFireQuestion.classList.add('active');
                        questionActuelle = 'apero-yes-fire';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('NO_TRUTH_PATH')) {
                    const noTruthQuestion = document.querySelector('[data-question="apero-no-truth"]');
                    if (noTruthQuestion) {
                        noTruthQuestion.classList.add('active');
                        questionActuelle = 'apero-no-truth';
                        mettreAJourProgress();
                    }
                }
                return;
            }

            // Navigation from apero-poker-charades, apero-yes-fire, and apero-no-truth to tellurium-swift
            if (questionActuelle === 'apero-poker-charades' || questionActuelle === 'apero-yes-fire' || questionActuelle === 'apero-no-truth') {
                const telluriumSwiftQuestion = document.querySelector('[data-question="apero-tellurium-swift"]');
                if (telluriumSwiftQuestion) {
                    telluriumSwiftQuestion.classList.add('active');
                    questionActuelle = 'apero-tellurium-swift';
                    mettreAJourProgress();
                }
                return;
            }

            // Navigation from tellurium-swift to mongolfiere
            if (questionActuelle === 'apero-tellurium-swift') {
                const mongolfiereQuestion = document.querySelector('[data-question="apero-mongolfiere"]');
                if (mongolfiereQuestion) {
                    mongolfiereQuestion.classList.add('active');
                    questionActuelle = 'apero-mongolfiere';
                    mettreAJourProgress();
                }
                return;
            }

            // Navigation from mongolfiere riddle based on answer
            if (questionActuelle === 'apero-mongolfiere') {
                if (reponseSelectionnee.value.includes('DNA_WRONG')) {
                    const dnaWrongQuestion = document.querySelector('[data-question="apero-dna-wrong"]');
                    if (dnaWrongQuestion) {
                        dnaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-dna-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('WEDDING_WRONG')) {
                    const weddingWrongQuestion = document.querySelector('[data-question="apero-wedding-wrong"]');
                    if (weddingWrongQuestion) {
                        weddingWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-wedding-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('EUROPA_WRONG')) {
                    const europaWrongQuestion = document.querySelector('[data-question="apero-europa-wrong"]');
                    if (europaWrongQuestion) {
                        europaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-europa-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('PLASMID_CORRECT')) {
                    const plasmidCorrectQuestion = document.querySelector('[data-question="apero-plasmid-correct"]');
                    if (plasmidCorrectQuestion) {
                        plasmidCorrectQuestion.classList.add('active');
                        questionActuelle = 'apero-plasmid-correct';
                        mettreAJourProgress();
                    }
                }
                return;
            }

            // Navigation from wrong answer questions - they all route based on the new answer
            if (questionActuelle === 'apero-dna-wrong') {
                if (reponseSelectionnee.value.includes('DNA_WRONG')) {
                    // Stay on same question - DNA wrong again
                    const dnaWrongQuestion = document.querySelector('[data-question="apero-dna-wrong"]');
                    if (dnaWrongQuestion) {
                        dnaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-dna-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('WEDDING_WRONG')) {
                    const weddingWrongQuestion = document.querySelector('[data-question="apero-wedding-wrong"]');
                    if (weddingWrongQuestion) {
                        weddingWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-wedding-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('EUROPA_WRONG')) {
                    const europaWrongQuestion = document.querySelector('[data-question="apero-europa-wrong"]');
                    if (europaWrongQuestion) {
                        europaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-europa-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('PLASMID_CORRECT')) {
                    const plasmidCorrectQuestion = document.querySelector('[data-question="apero-plasmid-correct"]');
                    if (plasmidCorrectQuestion) {
                        plasmidCorrectQuestion.classList.add('active');
                        questionActuelle = 'apero-plasmid-correct';
                        mettreAJourProgress();
                    }
                }
                return;
            }

            if (questionActuelle === 'apero-wedding-wrong') {
                if (reponseSelectionnee.value.includes('DNA_WRONG')) {
                    const dnaWrongQuestion = document.querySelector('[data-question="apero-dna-wrong"]');
                    if (dnaWrongQuestion) {
                        dnaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-dna-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('WEDDING_WRONG')) {
                    // Stay on same question - wedding ring wrong again
                    const weddingWrongQuestion = document.querySelector('[data-question="apero-wedding-wrong"]');
                    if (weddingWrongQuestion) {
                        weddingWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-wedding-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('EUROPA_WRONG')) {
                    const europaWrongQuestion = document.querySelector('[data-question="apero-europa-wrong"]');
                    if (europaWrongQuestion) {
                        europaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-europa-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('PLASMID_CORRECT')) {
                    const plasmidCorrectQuestion = document.querySelector('[data-question="apero-plasmid-correct"]');
                    if (plasmidCorrectQuestion) {
                        plasmidCorrectQuestion.classList.add('active');
                        questionActuelle = 'apero-plasmid-correct';
                        mettreAJourProgress();
                    }
                }
                return;
            }

            if (questionActuelle === 'apero-europa-wrong') {
                if (reponseSelectionnee.value.includes('DNA_WRONG')) {
                    const dnaWrongQuestion = document.querySelector('[data-question="apero-dna-wrong"]');
                    if (dnaWrongQuestion) {
                        dnaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-dna-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('WEDDING_WRONG')) {
                    const weddingWrongQuestion = document.querySelector('[data-question="apero-wedding-wrong"]');
                    if (weddingWrongQuestion) {
                        weddingWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-wedding-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('EUROPA_WRONG')) {
                    // Stay on same question - Europa wrong again
                    const europaWrongQuestion = document.querySelector('[data-question="apero-europa-wrong"]');
                    if (europaWrongQuestion) {
                        europaWrongQuestion.classList.add('active');
                        questionActuelle = 'apero-europa-wrong';
                        mettreAJourProgress();
                    }
                } else if (reponseSelectionnee.value.includes('PLASMID_CORRECT')) {
                    const plasmidCorrectQuestion = document.querySelector('[data-question="apero-plasmid-correct"]');
                    if (plasmidCorrectQuestion) {
                        plasmidCorrectQuestion.classList.add('active');
                        questionActuelle = 'apero-plasmid-correct';
                        mettreAJourProgress();
                    }
                }
                return;
            }

            // Navigation vers la carte finale pour tous les chemins
            if (questionActuelle === 'spaceship-landing' || 
                questionActuelle === 'death-cooking-class' || questionActuelle === 'death-cry-more' || 
                questionActuelle === 'death-all-alone' || questionActuelle === 'death-beautiful' || 
                questionActuelle === 'death-say-yes' || questionActuelle === 'apero-plasmid-correct') {
                const finalCard = document.querySelector('[data-question="final-card"]');
                if (finalCard) {
                    finalCard.classList.add('active');
                    questionActuelle = 'final-card';
                    mettreAJourProgress();
                }
                return;
            }

            // Navigation normale pour les autres questions
            if (typeof questionActuelle === 'number') {
                questionActuelle++;
                const prochaineQuestion = document.querySelector(`[data-question="${questionActuelle}"]`);
                if (prochaineQuestion) {
                    prochaineQuestion.classList.add('active');
                    mettreAJourProgress();
                }
            }
        }

        function questionPrecedente() {
            // Masquer la question actuelle
            const questionCourante = document.querySelector('.question-card.active');
            questionCourante.classList.remove('active');
            
            // Gérer le retour depuis les chemins spéciaux vers la question 2
            if (questionActuelle === 'spaceship-1' || questionActuelle === 'death-1' || questionActuelle === 'apero-1') {
                questionActuelle = 2;
                const question2 = document.querySelector('[data-question="2"]');
                if (question2) {
                    question2.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Retour depuis les sous-questions du chemin Spaceship
            if (questionActuelle === 'spaceship-moon' || questionActuelle === 'spaceship-europa') {
                questionActuelle = 'spaceship-1';
                const spaceshipQuestion = document.querySelector('[data-question="spaceship-1"]');
                if (spaceshipQuestion) {
                    spaceshipQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'spaceship-return') {
                // Go back to either moon or europa based on the current path
                if (currentPath === 'spaceship-europa') {
                    questionActuelle = 'spaceship-europa';
                    const europaQuestion = document.querySelector('[data-question="spaceship-europa"]');
                    if (europaQuestion) {
                        europaQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else {
                    // Default to moon path
                    questionActuelle = 'spaceship-moon';
                    const moonQuestion = document.querySelector('[data-question="spaceship-moon"]');
                    if (moonQuestion) {
                        moonQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                }
                return;
            }

            if (questionActuelle === 'spaceship-landing') {
                questionActuelle = 'spaceship-return';
                const returnQuestion = document.querySelector('[data-question="spaceship-return"]');
                if (returnQuestion) {
                    returnQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Retour depuis les sous-questions du chemin Death
            if (questionActuelle === 'death-crying-hugs' || questionActuelle === 'death-cookie') {
                questionActuelle = 'death-1';
                const deathQuestion = document.querySelector('[data-question="death-1"]');
                if (deathQuestion) {
                    deathQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Retour pour les nouvelles questions du chemin cookie
            if (questionActuelle === 'death-still-hungry') {
                questionActuelle = 'death-cookie';
                const cookieQuestion = document.querySelector('[data-question="death-cookie"]');
                if (cookieQuestion) {
                    cookieQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'death-cooking-class') {
                questionActuelle = 'death-still-hungry';
                const stillHungryQuestion = document.querySelector('[data-question="death-still-hungry"]');
                if (stillHungryQuestion) {
                    stillHungryQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'death-cry-more' || questionActuelle === 'death-mirror') {
                questionActuelle = 'death-crying-hugs';
                const cryingHugsQuestion = document.querySelector('[data-question="death-crying-hugs"]');
                if (cryingHugsQuestion) {
                    cryingHugsQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Retour depuis les sous-questions du chemin Mirror reflection
            if (questionActuelle === 'death-all-alone' || questionActuelle === 'death-beautiful' || questionActuelle === 'death-say-yes') {
                questionActuelle = 'death-mirror';
                const mirrorQuestion = document.querySelector('[data-question="death-mirror"]');
                if (mirrorQuestion) {
                    mirrorQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Backward navigation for apero path
            if (questionActuelle === 'apero-music') {
                questionActuelle = 'apero-1';
                const aperoQuestion = document.querySelector('[data-question="apero-1"]');
                if (aperoQuestion) {
                    aperoQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'apero-game') {
                questionActuelle = 'apero-music';
                const musicQuestion = document.querySelector('[data-question="apero-music"]');
                if (musicQuestion) {
                    musicQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Backward navigation for new apero sub-questions
            if (questionActuelle === 'apero-poker-charades' || questionActuelle === 'apero-truth-dare') {
                questionActuelle = 'apero-game';
                const gameQuestion = document.querySelector('[data-question="apero-game"]');
                if (gameQuestion) {
                    gameQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            if (questionActuelle === 'apero-yes-fire' || questionActuelle === 'apero-no-truth') {
                questionActuelle = 'apero-truth-dare';
                const truthDareQuestion = document.querySelector('[data-question="apero-truth-dare"]');
                if (truthDareQuestion) {
                    truthDareQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Backward navigation for new tellurium swift question
            if (questionActuelle === 'apero-tellurium-swift') {
                // This can come from multiple sources, need to check the last question
                // For now, default to apero-poker-charades (could be improved with tracking)
                questionActuelle = 'apero-poker-charades';
                const pokerCharadesQuestion = document.querySelector('[data-question="apero-poker-charades"]');
                if (pokerCharadesQuestion) {
                    pokerCharadesQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Backward navigation for mongolfiere riddle
            if (questionActuelle === 'apero-mongolfiere') {
                questionActuelle = 'apero-tellurium-swift';
                const telluriumSwiftQuestion = document.querySelector('[data-question="apero-tellurium-swift"]');
                if (telluriumSwiftQuestion) {
                    telluriumSwiftQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Backward navigation for wrong answer questions - they all go back to mongolfiere
            if (questionActuelle === 'apero-dna-wrong' || questionActuelle === 'apero-wedding-wrong' || questionActuelle === 'apero-europa-wrong') {
                questionActuelle = 'apero-mongolfiere';
                const mongolfiereQuestion = document.querySelector('[data-question="apero-mongolfiere"]');
                if (mongolfiereQuestion) {
                    mongolfiereQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Backward navigation for correct plasmid answer
            if (questionActuelle === 'apero-plasmid-correct') {
                questionActuelle = 'apero-mongolfiere';
                const mongolfiereQuestion = document.querySelector('[data-question="apero-mongolfiere"]');
                if (mongolfiereQuestion) {
                    mongolfiereQuestion.classList.add('active');
                    mettreAJourProgress();
                }
                return;
            }

            // Retour depuis la carte finale vers les dernières questions de chaque chemin
            if (questionActuelle === 'final-card') {
                // Use the tracked path to go back to the correct question
                if (currentPath === 'spaceship-moon' || currentPath === 'spaceship-europa') {
                    questionActuelle = 'spaceship-landing';
                    const landingQuestion = document.querySelector('[data-question="spaceship-landing"]');
                    if (landingQuestion) {
                        landingQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'death-crying-hugs') {
                    questionActuelle = 'death-crying-hugs';
                    const cryingHugsQuestion = document.querySelector('[data-question="death-crying-hugs"]');
                    if (cryingHugsQuestion) {
                        cryingHugsQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'death-cookie') {
                    questionActuelle = 'death-cooking-class';
                    const cookingClassQuestion = document.querySelector('[data-question="death-cooking-class"]');
                    if (cookingClassQuestion) {
                        cookingClassQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'death-cry-more') {
                    questionActuelle = 'death-cry-more';
                    const cryMoreQuestion = document.querySelector('[data-question="death-cry-more"]');
                    if (cryMoreQuestion) {
                        cryMoreQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'death-all-alone') {
                    questionActuelle = 'death-all-alone';
                    const allAloneQuestion = document.querySelector('[data-question="death-all-alone"]');
                    if (allAloneQuestion) {
                        allAloneQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'death-beautiful') {
                    questionActuelle = 'death-beautiful';
                    const beautifulQuestion = document.querySelector('[data-question="death-beautiful"]');
                    if (beautifulQuestion) {
                        beautifulQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'death-say-yes') {
                    questionActuelle = 'death-say-yes';
                    const sayYesQuestion = document.querySelector('[data-question="death-say-yes"]');
                    if (sayYesQuestion) {
                        sayYesQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                } else if (currentPath === 'apero') {
                    // For apero path, go back to the plasmid correct question since that's the only path to final
                    questionActuelle = 'apero-plasmid-correct';
                    const plasmidCorrectQuestion = document.querySelector('[data-question="apero-plasmid-correct"]');
                    if (plasmidCorrectQuestion) {
                        plasmidCorrectQuestion.classList.add('active');
                        mettreAJourProgress();
                    }
                }
                return;
            }
            
            // Navigation normale pour les questions numérotées
            if (typeof questionActuelle === 'number') {
                questionActuelle--;
                const questionPrecedente = document.querySelector(`[data-question="${questionActuelle}"]`);
                if (questionPrecedente) {
                    questionPrecedente.classList.add('active');
                    mettreAJourProgress();
                }
            }
        }

        function mettreAJourProgress() {
            const progressBar = document.getElementById('progress');
            const questionActuelleSpan = document.getElementById('question-actuelle');
            
            let pourcentage, questionNum;
            
            // Gérer les chemins spéciaux avec progression plus réaliste
            if (questionActuelle === 'spaceship-1' || questionActuelle === 'death-1' || questionActuelle === 'apero-1') {
                questionNum = 3;
                pourcentage = 50;
            } else if (questionActuelle === 'spaceship-moon' || questionActuelle === 'spaceship-europa' || 
                       questionActuelle === 'death-crying-hugs' || questionActuelle === 'death-cookie' ||
                       questionActuelle === 'apero-music') {
                questionNum = 4;
                pourcentage = 66;
            } else if (questionActuelle === 'spaceship-return' || 
                       questionActuelle === 'death-cry-more' || questionActuelle === 'death-mirror' ||
                       questionActuelle === 'death-still-hungry' || questionActuelle === 'apero-game') {
                questionNum = 5;
                pourcentage = 83;
            } else if (questionActuelle === 'spaceship-landing' || questionActuelle === 'spaceship-europa' ||
                       questionActuelle === 'death-all-alone' || questionActuelle === 'death-beautiful' ||
                       questionActuelle === 'death-say-yes' || questionActuelle === 'death-cooking-class' ||
                       questionActuelle === 'apero-poker-charades' || questionActuelle === 'apero-truth-dare') {
                questionNum = 6;
                pourcentage = 100;
            } else if (questionActuelle === 'apero-yes-fire' || questionActuelle === 'apero-no-truth') {
                questionNum = 7;
                pourcentage = 100;
            } else if (questionActuelle === 'apero-tellurium-swift') {
                questionNum = 8;
                pourcentage = 100;
            } else if (questionActuelle === 'apero-mongolfiere' || questionActuelle === 'apero-dna-wrong' || 
                       questionActuelle === 'apero-wedding-wrong' || questionActuelle === 'apero-europa-wrong') {
                questionNum = 9;
                pourcentage = 100;
            } else if (questionActuelle === 'apero-plasmid-correct' || questionActuelle === 'final-card') {
                questionNum = 10;
                pourcentage = 100;
            } else {
                // Pour les questions numérotées (1, 2)
                questionNum = questionActuelle;
                pourcentage = (questionActuelle / 6) * 100;
            }
            
            progressBar.style.width = pourcentage + '%';
            questionActuelleSpan.textContent = questionNum;
        }

        // Gérer la soumission du formulaire
        document.getElementById('quiz-form').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Form submitted!'); // Debug log
            
            // Vérifier que la dernière question a une réponse
            const questionCourante = document.querySelector('.question-card.active');
            console.log('Current question:', questionCourante ? questionCourante.getAttribute('data-question') : 'None'); // Debug log
            const reponseSelectionnee = questionCourante.querySelector('input[type="radio"]:checked');
            
            if (!reponseSelectionnee) {
                alert('Please answer the last question.');
                return;
            }

            console.log('Selected answer:', reponseSelectionnee.value); // Debug log

            // Calculer le résultat
            const formData = new FormData(this);
            const scores = {
                'CERIUM': 0,
                'DYSPROSIUM': 0,
                'PRASEODYME': 0,
                'LANTHANE': 0,
                'GADOLINIUM': 0,
                'NEODYME': 0,
                'TELLURE': 0
            };

            // Compter les points
            for (let [name, value] of formData.entries()) {
                console.log('Processing:', name, '=', value); // Debug log
                // Ignorer les valeurs de chemin spéciales
                if (value.includes('_PATH') || value === 'EXIT_ENDING') {
                    continue;
                }
                
                // Nouveau système de scoring pour toutes les questions
                // Format: "TYPE:POINTS,TYPE:POINTS" ou "TYPE:POINTS"
                const entries = value.split(',');
                
                for (let entry of entries) {
                    const [type, points] = entry.split(':');
                    if (type && points && scores.hasOwnProperty(type)) {
                        scores[type] += parseInt(points);
                    }
                }
            }

            console.log('Final scores:', scores); // Debug log

            // Trouver le type gagnant
            let typeGagnant = 'CERIUM';
            let scoreMax = 0;
            for (let type in scores) {
                if (scores[type] > scoreMax) {
                    scoreMax = scores[type];
                    typeGagnant = type;
                }
            }

            console.log('Winner:', typeGagnant); // Debug log
            
            // Store the winner for later display
            window.quizResult = typeGagnant;
            
            // Show REEvolutionaTe message first
            document.getElementById('reevolutionate-message').style.display = 'flex';
        });

        function submitQuiz() {
            console.log('Submit quiz function called!'); // Debug log
            
            // Vérifier que la dernière question a une réponse
            const questionCourante = document.querySelector('.question-card.active');
            console.log('Current question:', questionCourante ? questionCourante.getAttribute('data-question') : 'None'); // Debug log
            const reponseSelectionnee = questionCourante.querySelector('input[type="radio"]:checked');
            
            if (!reponseSelectionnee) {
                alert('Please answer the last question.');
                return;
            }

            console.log('Selected answer:', reponseSelectionnee.value); // Debug log

            // Calculer le résultat
            const formData = new FormData(document.getElementById('quiz-form'));
            const scores = {
                'CERIUM': 0,
                'DYSPROSIUM': 0,
                'PRASEODYME': 0,
                'LANTHANE': 0,
                'GADOLINIUM': 0,
                'NEODYME': 0,
                'TELLURE': 0
            };

            // Compter les points
            for (let [name, value] of formData.entries()) {
                console.log('Processing:', name, '=', value); // Debug log
                // Ignorer les valeurs de chemin spéciales
                if (value.includes('_PATH') || value === 'EXIT_ENDING') {
                    continue;
                }
                
                // Nouveau système de scoring pour toutes les questions
                // Format: "TYPE:POINTS,TYPE:POINTS" ou "TYPE:POINTS"
                const entries = value.split(',');
                
                for (let entry of entries) {
                    const [type, points] = entry.split(':');
                    if (type && points && scores.hasOwnProperty(type)) {
                        scores[type] += parseInt(points);
                    }
                }
            }

            console.log('Final scores:', scores); // Debug log

            // Trouver le type gagnant
            let typeGagnant = 'CERIUM';
            let scoreMax = 0;
            for (let type in scores) {
                if (scores[type] > scoreMax) {
                    scoreMax = scores[type];
                    typeGagnant = type;
                }
            }

            console.log('Winner:', typeGagnant); // Debug log
            
            // Store the winner for later display
            window.quizResult = typeGagnant;
            
            // Show REEvolutionaTe message first
            document.getElementById('reevolutionate-message').style.display = 'flex';
        }

        function afficherResultat(type) {
            const t = translations[currentLanguage];
            const resultats = {
                'CERIUM': {
                    titre: t['cerium-title'],
                    description: t['cerium-desc'],
                    couleur: '#e2fdff'
                },
                'DYSPROSIUM': {
                    titre: t['dysprosium-title'],
                    description: t['dysprosium-desc'],
                    couleur: '#d4fff6'
                },
                'PRASEODYME': {
                    titre: t['praseodyme-title'],
                    description: t['praseodyme-desc'],
                    couleur: '#e8e8e5'
                },
                'LANTHANE': {
                    titre: t['lanthane-title'],
                    description: t['lanthane-desc'],
                    couleur: '#ffeee1'
                },
                'GADOLINIUM': {
                    titre: t['gadolinium-title'],
                    description: t['gadolinium-desc'],
                    couleur: '#f7e3ff'
                },
                'NEODYME': {
                    titre: t['neodyme-title'],
                    description: t['neodyme-desc'],
                    couleur: '#949f96'
                },
                'TELLURE': {
                    titre: t['tellure-title'],
                    description: t['tellure-desc'],
                    couleur: '#e1ddc0'
                }
            };

            const resultat = resultats[type];
            
            // Split the title to separate emoji from text
            const titleParts = resultat.titre.match(/^(.+?)\s([🔍🏄‍♂️👑😴✨😎🐺])$/);
            if (titleParts) {
                // If emoji is found, display it separately from colored text
                document.getElementById('resultat-titre').innerHTML = `<span style="color: ${resultat.couleur};">${titleParts[1]}</span> ${titleParts[2]}`;
            } else {
                // Fallback: display as before
                document.getElementById('resultat-titre').textContent = resultat.titre;
                document.getElementById('resultat-titre').style.color = resultat.couleur;
            }
            
            document.getElementById('resultat-description').textContent = resultat.description;

            document.getElementById('resultat').style.display = 'flex';
            
            // Ajouter des confettis
            creerConfettis();
        }

        function showREEResult(character) {
            // Hide all result containers
            document.getElementById('reevolutionate-message').style.display = 'none';
            document.getElementById('resultat').style.display = 'none';
            document.getElementById('exit-ending').style.display = 'none';
            document.getElementById('exit-ending').classList.remove('active');
            
            // Show the character image container
            document.getElementById('pdf-container').style.display = 'block';
            
            // Set the image file based on the character and current language
            var imageFile;
            if (currentLanguage === 'fr') {
                imageFile = character + '_FR.png';
            } else {
                imageFile = character + '.png';
            }
            document.getElementById('character-image').src = imageFile;
            
            // Update project description with current language
            const projectDesc = document.querySelector('[data-translate="project-description"]');
            if (projectDesc && translations[currentLanguage]['project-description']) {
                projectDesc.innerHTML = translations[currentLanguage]['project-description'];
            }
        }

        function partager() {
            const titre = document.getElementById('resultat-titre').textContent;
            const texte = `I just did the personality quiz and I am ${titre}! What about you, what type are you?`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My result to the Personality Quiz',
                    text: texte,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(texte + ' ' + window.location.href).then(() => {
                    alert('Result copied to clipboard!');
                });
            }
        }

        function creerConfettis() {
            const couleurs = ['#f96628', '#71aca2', '#fda968', '#ac6b9d', '#8bc34a', '#2196f3', '#ff5722'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.style.cssText = `
                        position: fixed;
                        width: 10px;
                        height: 10px;
                        background: ${couleurs[Math.floor(Math.random() * couleurs.length)]};
                        top: -10px;
                        left: ${Math.random() * 100}%;
                        z-index: 1001;
                        pointer-events: none;
                        animation: fall 3s linear forwards;
                    `;
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        if (confetti.parentNode) {
                            confetti.parentNode.removeChild(confetti);
                        }
                    }, 3000);
                }, i * 100);
            }
        }

        // Fonctions pour la fin spéciale
        function afficherFinSpeciale() {
            // Hide all sections and questions
            document.getElementById('accueil').style.display = 'none';
            document.getElementById('quiz').style.display = 'block';
            document.getElementById('resultat').style.display = 'none';
            document.getElementById('reevolutionate-message').style.display = 'none';
            
            // Hide all question cards
            document.querySelectorAll('.question-card').forEach(q => q.classList.remove('active'));
            
            // Show and activate the exit ending question
            const exitEnding = document.getElementById('exit-ending');
            exitEnding.style.display = 'block';
            exitEnding.classList.add('active');
            
            // Update translations for the exit section
            updateExitTranslations();
        }

        function updateExitTranslations() {
            const t = translations[currentLanguage];
            
            // Update the exit section with current language
            const exitTitle = document.querySelector('#exit-ending h2');
            if (exitTitle && t['exit-title']) exitTitle.textContent = t['exit-title'];
            
            const exitTryAgain = document.querySelector('#exit-ending h3');
            if (exitTryAgain && t['exit-try-again']) exitTryAgain.textContent = t['exit-try-again'];
            
            const exitQuestion = document.querySelector('#exit-ending p');
            if (exitQuestion && t['question2']) exitQuestion.textContent = t['question2'];
            
            // Update choice labels
            const exitChoiceLabels = document.querySelectorAll('#exit-ending label');
            if (exitChoiceLabels.length >= 3) {
                if (t['q2-option1']) exitChoiceLabels[0].textContent = t['q2-option1'];
                if (t['q2-option2']) exitChoiceLabels[1].textContent = t['q2-option2'];
                if (t['q2-option3']) exitChoiceLabels[2].textContent = t['q2-option3'];
            }
            
            // Buttons are handled by the standard translation system with data-translate attributes
        }

        function continueFromExit() {
            // Check if an answer is selected
            const selectedAnswer = document.querySelector('input[name="exit-question2"]:checked');
            if (!selectedAnswer) {
                alert('Please select an answer to continue.');
                return;
            }
            
            // Hide the exit ending
            document.getElementById('exit-ending').style.display = 'none';
            document.getElementById('exit-ending').classList.remove('active');
            
            // Clear the active question
            document.querySelectorAll('.question-card').forEach(q => q.classList.remove('active'));
            
            // Handle the path based on the selected answer
            const value = selectedAnswer.value;
            if (value.includes('SPACESHIP_PATH')) {
                currentPath = 'spaceship';
                const spaceshipQuestion = document.querySelector('[data-question="spaceship-1"]');
                if (spaceshipQuestion) {
                    spaceshipQuestion.classList.add('active');
                    questionActuelle = 'spaceship-1';
                    mettreAJourProgress();
                }
            } else if (value.includes('DEATH_NO_SCARE_PATH')) {
                currentPath = 'death';
                const deathQuestion = document.querySelector('[data-question="death-1"]');
                if (deathQuestion) {
                    deathQuestion.classList.add('active');
                    questionActuelle = 'death-1';
                    mettreAJourProgress();
                }
            } else if (value.includes('APERO_PATH')) {
                currentPath = 'apero';
                const aperoQuestion = document.querySelector('[data-question="apero-1"]');
                if (aperoQuestion) {
                    aperoQuestion.classList.add('active');
                    questionActuelle = 'apero-1';
                    mettreAJourProgress();
                }
            }
        }

        function continueToPersonalityQuiz() {
            // For the EXIT path, automatically assign DYSPROSIUM as the personality result
            const typeGagnant = 'DYSPROSIUM';

            // Masquer la fin spéciale et afficher le résultat REE
            document.getElementById('exit-ending').style.display = 'none';
            document.getElementById('exit-ending').classList.remove('active');
            
            // Show the PDF directly for DYSPROSIUM
            showREEResult('Dysprosium');
        }

        // Get the character result based on the quiz answers
        function getCharacterResult() {
            // If there's a stored quiz result, use it
            if (window.quizResult) {
                // Convert from uppercase to title case for image file names
                const elementMap = {
                    'CERIUM': 'Cerium',
                    'DYSPROSIUM': 'Dysprosium',
                    'PRASEODYME': 'Praseodyme',
                    'LANTHANE': 'Lanthane',
                    'GADOLINIUM': 'Gadolinium',
                    'NEODYME': 'Neodyme',
                    'TELLURE': 'Tellure'
                };
                return elementMap[window.quizResult] || 'Cerium';
            }
            
            // Calculate result based on current answers
            const scores = {
                'CERIUM': 0,
                'DYSPROSIUM': 0,
                'PRASEODYME': 0,
                'LANTHANE': 0,
                'GADOLINIUM': 0,
                'NEODYME': 0,
                'TELLURE': 0
            };

            // Go through all selected answers and count scores
            const selectedAnswers = document.querySelectorAll('input[type="radio"]:checked');
            selectedAnswers.forEach(answer => {
                const value = answer.value;
                const parts = value.split(',');
                parts.forEach(part => {
                    if (part.includes(':')) {
                        const [element, points] = part.split(':');
                        if (scores.hasOwnProperty(element)) {
                            scores[element] += parseInt(points);
                        }
                    }
                });
            });

            // Find the element with the highest score
            let maxScore = 0;
            let winningElement = 'CERIUM'; // default
            
            for (const [element, score] of Object.entries(scores)) {
                if (score > maxScore) {
                    maxScore = score;
                    winningElement = element;
                }
            }

            // Convert to title case for image file names
            const elementMap = {
                'CERIUM': 'Cerium',
                'DYSPROSIUM': 'Dysprosium',
                'PRASEODYME': 'Praseodyme',
                'LANTHANE': 'Lanthane',
                'GADOLINIUM': 'Gadolinium',
                'NEODYME': 'Neodyme',
                'TELLURE': 'Tellure'
            };

            return elementMap[winningElement] || 'Cerium';
        }

        // Mettre à jour la fonction recommencer pour gérer aussi la fin spéciale
        function recommencer() {
            // Réinitialiser
            questionActuelle = 1;
            currentPath = ''; // Reset path tracking
            
            // Réinitialiser le formulaire
            document.getElementById('quiz-form').reset();
            
            // Réinitialiser les questions (y compris les chemins spéciaux)
            document.querySelectorAll('.question-card').forEach((q) => {
                q.classList.remove('active');
            });
            
            // Activer seulement la première question
            const firstQuestion = document.querySelector('[data-question="1"]');
            if (firstQuestion) {
                firstQuestion.classList.add('active');
            }
            
            // Masquer tous les résultats et afficher l'accueil
            document.getElementById('resultat').style.display = 'none';
            document.getElementById('reevolutionate-message').style.display = 'none';
            document.getElementById('exit-ending').style.display = 'none';
            document.getElementById('exit-ending').classList.remove('active');
            document.getElementById('pdf-container').style.display = 'none';
            document.getElementById('quiz').style.display = 'none';
            document.getElementById('accueil').style.display = 'block';
        }
    </script>
</body>
</html>
